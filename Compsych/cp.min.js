let mainScript=()=>{$.easing.lenisEase=function(e){return Math.min(1,1.001-Math.pow(2,-10*e))},barba.use(barbaPrefetch),gsap.registerPlugin(ScrollTrigger),history.scrollRestoration&&(history.scrollRestoration="manual"),ScrollTrigger.defaults({invalidateOnRefresh:!0,scroller:".main-inner"});let e=(e,t,r)=>{$(e).each((e,i)=>{$(i).css("stroke",r?t[t.length-1-e]:t[e])})},t=e=>e/10*parseFloat($("html").css("font-size"));function r(e){let t=e.innerHTML,r=t.replaceAll("-","<span>-</span>");e.innerHTML=r}let i=(e,t=300)=>{let r;return(...i)=>{clearTimeout(r),r=setTimeout(()=>{e.apply(this,i)},t)}},l=e=>gsap.quickSetter(e,"x","px"),o=e=>{let t=e.getBoundingClientRect().width;e.style.width=t+"px"},s=(e,t,r)=>(1-r)*e+r*t,a=({triggerEl:e,offset:t={start:0,end:0},triggerOpts:r={},animEls:i=[{animEl:null,offset:{start:0,end:0},isImage:!1}]})=>{let l=gsap.timeline({scrollTrigger:{trigger:e,horizontal:!0,start:`left+=${t.start}% right`,end:`right+=${t.end}% left`,scrub:!0,...r},defaults:{ease:"none"}});return i.forEach(e=>{l.fromTo(e.animEl,{xPercent:e.offset.start},{xPercent:e.offset.end},0),e.isImage&&(gsap.set(e.animEl.querySelector("img"),{scale:1.2,transformOrigin:"var(--oriX) 50%","--oriX":"100%"}),l.fromTo(e.animEl.querySelector("img"),{scale:1.2,"--oriX":"100%"},{scale:1,"--oriX":"0%"},0))}),l},n=(e,t,r)=>{let i,l,o=t?.next.container.querySelector(".main-content"),s=o?.getBoundingClientRect().height;function a(){clearTimeout(l),l=setTimeout(()=>{let e=o.getBoundingClientRect().height;e!==s&&(p.lenis&&(p.lenis.resize(),ScrollTrigger.refresh()),r&&r(),s=e)},200)}if("init"===e){if(!o)return;(i=new ResizeObserver(a)).observe(o)}else"disconnect"===e&&i&&i.disconnect()},h=(e,t,r,i)=>Math.hypot(r-e,i-t),c=(e,t="vertical")=>{if(!e)return;let r=e.getBoundingClientRect();return"horizontal"==t?r.left<=window.innerWidth&&r.right>=0:r.top<=window.innerHeight&&r.bottom>=0};class u{constructor(){this.mousePos={x:0,y:0},this.cacheMousePos={...this.mousePos},this.lastMousePos={...this.mousePos},this.normalizeMousePos={current:{x:.5,y:.5},target:{x:.5,y:.5}},this.cursorRaf=null,this.init()}init(){window.addEventListener("mousemove",this.updateOnMove),window.addEventListener("touchmove",this.updateOnMove)}updateOnMove=e=>{let t=this.getPointerPos(e.touches?e.touches[0]:e);this.mousePos=t,this.cacheMousePos.x=s(this.cacheMousePos.x,t.x,.1),this.cacheMousePos.y=s(this.cacheMousePos.y,t.y,.1),this.normalizeMousePos.target.x=t.x/window.innerWidth,this.normalizeMousePos.target.y=t.y/window.innerHeight,this.cursorRaf||(this.cursorRaf=requestAnimationFrame(this.lerpCursorPos.bind(this)))};getPointerPos(e){let t=e.pageX||e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft||0,r=e.pageY||e.clientY+document.body.scrollTop+document.documentElement.scrollTop||0;return{x:t,y:r}}lerpCursorPos=()=>{this.normalizeMousePos.current.x=s(this.normalizeMousePos.current.x,this.normalizeMousePos.target.x,.05),this.normalizeMousePos.current.y=s(this.normalizeMousePos.current.y,this.normalizeMousePos.target.y,.05);let e=h(this.normalizeMousePos.target.x,this.normalizeMousePos.current.x,this.normalizeMousePos.target.y,this.normalizeMousePos.current.y);if(e<.001&&this.cursorRaf){cancelAnimationFrame(this.cursorRaf),this.cursorRaf=null;return}this.cursorRaf=requestAnimationFrame(this.lerpCursorPos.bind(this))};reachedThreshold(e){if(!e)return!1;let t=h(this.mousePos.x,this.mousePos.y,this.lastMousePos.x,this.lastMousePos.y);return t>e&&(this.lastMousePos={...this.mousePos},!0)}}let d=new u;class m{constructor(){this.lenis=null,this.scroller={scrollX:window.scrollX,scrollY:window.scrollY,velocity:0},this.lastScroller={scrollX:window.scrollX,scrollY:window.scrollY,velocity:0}}init(e){this.reinit(e),gsap.ticker.add(e=>{this.lenis&&this.lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0)}reinit(e){let t=e?e.next.namespace:$('[data-barba="container"]').attr("data-barba-namespace");this.lenis=new Lenis({wrapper:e?e.next.container.querySelector(".main-inner"):document.querySelector(".main-inner"),orientation:$(window).width()>991&&"home"==t?"horizontal":"vertical",gestureOrientation:$(window).width()>991?"both":"vertical",smoothTouch:!1,infinite:"home"==t,syncTouch:!($(window).width()>991)}),"home"==t&&(window.innerWidth>991?this.lenis.scrollTo(window.innerWidth+.09*window.innerHeight,{immediate:!0}):this.lenis.scrollTo(window.innerHeight+.09*window.innerWidth,{immediate:!0})),this.lenis.on("scroll",ScrollTrigger.update),this.lenis.on("scroll",e=>{this.updateOnScroll(e)})}toggleInfinite(){this.lenis.options.infinite||(this.lenis.options.infinite=!0)}start(){this.lenis.start(),$(".body").css("overflow","")}stop(){this.lenis.stop(),$(".body").css("overflow","hidden")}destroy(){gsap.ticker.remove(e=>{this.lenis.raf(1e3*e)}),this.lenis.destroy(),this.lenis=null}reachedThreshold(e){if(!e)return!1;let t=h(this.scroller.scrollX,this.scroller.scrollY,this.lastScroller.scrollX,this.lastScroller.scrollY);if(t>e)return this.lastScroller={...this.scroller},!0}updateOnScroll=e=>{this.scroller.scrollX=e.scroll,this.scroller.scrollY=e.scroll,this.scroller.velocity=.2*e.velocity,T&&T.updateOnScroll(p.lenis)}}let p=new m,g={Title:class{constructor(e){this.el=e,this.init()}init(){this.text=this.el.querySelector(".heading"),this.setup()}setup(){this.reveal()}reveal(){let e=new SplitType(this.text,{types:"lines, words, chars",lineClass:"bp-line",wordClass:"bp-word"});this.revealTl=gsap.timeline({scrollTrigger:{trigger:this.text.parentElement,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left right-=25%":"top bottom-=25%"}`,end:`${$(window).width()>991?"right left+=25%":"bottom top+=25%"}`,once:!0},onComplete(){e.revert()}}),this.revealTl.fromTo(e.chars,{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:.5,stagger:.02})}destroy(){this.revealTl.kill(),this.text=null,this.el=null}},DoubleTitle:class{constructor(e,t=!1,r=-35,i=15){this.el=e,this.parallax=t,this.startPercent=r,this.endPercent=i,this.init()}init(){this.textMain=this.el.querySelector('[data-dou-text="main"]'),this.textClone=this.el.querySelector('[data-dou-text="clone"]'),this.setup()}setup(){this.reveal(),this.parallax&&this.scrub()}reveal(){this.splitTitle=new SplitType(this.textMain,{types:"lines, words, chars",lineClass:"bp-line",wordClass:"bp-word"}),this.splitClone=new SplitType(this.textClone,{types:"lines, words, chars",lineClass:"bp-line",wordClass:"bp-word"}),this.revealTl=gsap.timeline({paused:!0}),this.revealTl.fromTo(this.splitTitle.chars,{yPercent:60,opacity:0},{yPercent:0,opacity:1,duration:.5,stagger:.02}).fromTo(this.splitClone.chars,{yPercent:60,opacity:0},{yPercent:0,duration:.5,opacity:1,stagger:.02},"<=0")}setTrigger(){this.triggerTl=gsap.timeline({scrollTrigger:{trigger:this.textMain.parentElement,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left-=35% right-=30%":"top bottom-=25%"}`,once:!0,onEnter:()=>{this.play()}}})}play(){this.revealTl.play()}getEls(){return{main:this.splitTitle,clone:this.splitClone}}scrub(){this.scrubTl=gsap.timeline({scrollTrigger:{trigger:this.textMain.parentElement,horizontal:$(window).width()>991,start:`${$(window).width()>991?`left+=${this.startPercent}% right`:`top+=${this.startPercent}% bottom`}`,end:`${$(window).width()>991?`right+=${this.endPercent}% left`:`bottom+=${this.endPercent}% top`}`,scrub:!0},defaults:{ease:"none"}}),$(window).width()>991?this.scrubTl.fromTo(this.textMain,{xPercent:this.startPercent},{xPercent:this.endPercent,duration:1}).fromTo(this.textClone,{xPercent:this.startPercent},{xPercent:this.endPercent,duration:1},"<=0"):this.scrubTl.fromTo(this.textMain,{yPercent:this.startPercent},{yPercent:this.endPercent,duration:1}).fromTo(this.textClone,{yPercent:this.startPercent},{yPercent:this.endPercent,duration:1},"<=0")}destroy(){this.triggerTl&&this.triggerTl.kill(),this.revealTl.kill(),this.scrubTl.kill(),this.textMain=null,this.textClone=null,this.el=null}},ParallaxImage:class{constructor({el:e}){this.el=e,this.elWrap=null,this.init()}init(){this.elWrap=this.el.parentElement,this.setup()}setup(){$(window).width()>991&&gsap.set(this.el,{width:"120%"}),$(window).width()>991&&this.scrub()}scrub(){let e=this.el.offsetWidth-this.elWrap.offsetWidth,t=this.elWrap.getBoundingClientRect().width+window.innerWidth;this.updateOnScroll(e,t),p.lenis.on("scroll",()=>{this.updateOnScroll(e,t)})}updateOnScroll(e,t){if(this.el&&c(this.elWrap,"horizontal")){let r=this.elWrap.getBoundingClientRect().right/t;l(this.el)(-e*r*.9)}}},ScaleInset:class{constructor({el:e,delay:t=0}){this.el=e,this.elWrap=null,this.tl=null,this.revealDelay=t,this.init()}init(){this.elWrap=this.el.parentElement,this.setup()}setup(){let e=gsap.getProperty(this.elWrap,"border-radius");this.tl=gsap.timeline({scrollTrigger:{trigger:this.elWrap,start:"top top+=85%",once:!0}}).fromTo(this.elWrap,{clipPath:`inset(20% round ${e}px)`},{clipPath:`inset(0% round ${e}px)`,duration:2,ease:"expo.out",clearProps:"all"}).fromTo(this.el,{scale:1.4,autoAlpha:0},{scale:1,duration:2,autoAlpha:1,ease:"expo.out",clearProps:"all"},"<=0")}}};class y{constructor(e){this.el=e,this.elInner=this.el.querySelector("img"),this.defaultStyles={scale:1,x:0,y:0,opacity:0},this.rect=this.el.getBoundingClientRect()}destroy(){this.el=null,this.elInner=null,this.rect=null,this.timeline&&(this.timeline.kill(),this.timeline=null)}}class f{constructor(e){this.el=e,this.threshold=80,this.images=[...this.el.querySelectorAll(".home-photo-trail-item")].map(e=>new y(e)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.idleInterval=null,this.raf=requestAnimationFrame(()=>this.render()),this.lastScrollX=p.scroller.scrollX}render(){if(c(this.el,"horizontal")&&document.querySelectorAll(".home-photo-trail-wrap:hover").length>0)d.reachedThreshold(this.threshold)?(this.showNextImage(),this.idleInterval&&(clearInterval(this.idleInterval),this.idleInterval=null)):p.reachedThreshold(1.2*this.threshold)?(this.showNextImage(),this.idleInterval&&(clearInterval(this.idleInterval),this.idleInterval=null)):this.idleInterval||(this.idleInterval=setInterval(()=>{this.showNextImage()},600)),this.isIdle&&1!==this.zIndexVal&&(this.zIndexVal=1);else{requestAnimationFrame(()=>this.render()),this.idleInterval&&(clearInterval(this.idleInterval),this.idleInterval=null);return}this.raf=requestAnimationFrame(()=>this.render())}showNextImage(){++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;let e=this.images[this.imgPosition];e.el&&gsap.killTweensOf(e.el),e.timeline=gsap.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(e.el,{opacity:1,scale:1,zIndex:this.zIndexVal,x:d.cacheMousePos.x-e.rect.width/2-this.el.getBoundingClientRect().left,y:d.cacheMousePos.y-e.rect.height/2-this.el.getBoundingClientRect().top},{duration:.8,scale:.8,ease:"expo.out",x:d.mousePos.x-e.rect.width/2-this.el.getBoundingClientRect().left,y:d.mousePos.y-e.rect.height/2-this.el.getBoundingClientRect().top},0).to(e.el,{duration:1.2,ease:"power3.out",opacity:0,scale:0},.4)}onImageActivated=()=>{this.activeImagesCount++,this.isIdle=!1};onImageDeactivated=()=>{this.activeImagesCount--,0===this.activeImagesCount&&(this.isIdle=!0)};destroy(){cancelAnimationFrame(this.raf),this.images.forEach(e=>{e.destroy()}),this.images=null,this.el=null,this.DOM=null}}class v{constructor({scene:e,geometry:t,renderer:r,screen:i,viewport:l,image:o,length:s,index:a}){this.scene=e,this.geometry=t,this.renderer=r,this.screen=i,this.viewport=l,this.image=o,this.length=s,this.index=a,this.extra=0,this.createShader(),this.createMesh(),this.onResize()}createShader(){this.texture=new THREE.TextureLoader().load(this.image,e=>{e.minFilter=THREE.LinearFilter,e.magFilter=THREE.LinearFilter,e.generateMipmaps=!1,this.material.uniforms.uImageSize.value=[e.image.naturalWidth,e.image.naturalHeight]}),this.material=new THREE.ShaderMaterial({uniforms:{tMap:{value:this.texture},uPosition:{value:0},uPlaneSize:{value:[0,0]},uImageSize:{value:[0,0]},uSpeed:{value:0},rotationAxis:{value:new THREE.Vector3(0,1,0)},distortionAxis:{value:new THREE.Vector3(1,1,0)},uDistortion:{value:3},uViewportSize:{value:[this.viewport.width,this.viewport.height]},uTime:{value:0}},vertexShader,fragmentShader,side:THREE.DoubleSide,depthTest:!1,depthWrite:!1})}createMesh(){this.plane=new THREE.Mesh(this.geometry,this.material),this.scene.add(this.plane)}setScale(e=320,t=300){this.plane.scale.x=this.viewport.width*e/this.screen.width,this.plane.scale.y=this.viewport.height*t/this.screen.height,this.material.uniforms.uPlaneSize.value=[this.plane.scale.x,this.plane.scale.y,]}setX(){this.x=0,this.plane.position.x=-(this.viewport.width/2)+this.plane.scale.x/2+this.x}onResize({screen:e,viewport:t}={}){e&&(this.screen=e),t&&(this.viewport=t,this.material.uniforms.uViewportSize.value=[this.viewport.width,this.viewport.height,]),this.setScale(),this.padding=.8,this.height=this.plane.scale.y+this.padding,this.heightTotal=this.height*this.length,this.y=this.height*this.index}update(e,t){this.plane.position.y=this.y-e.current-this.extra;let r=this.remapValue(this.plane.position.y,-this.viewport.height,this.viewport.height,5,15);this.material.uniforms.uPosition.value=r,this.material.uniforms.uTime.value+=.04,this.material.uniforms.uSpeed.value=p.lenis&&p.lenis.velocity;let i=this.plane.scale.y/2,l=this.viewport.height;this.isBefore=this.plane.position.y+i<-l,this.isAfter=this.plane.position.y-i>l,"up"===t&&this.isBefore&&(this.extra-=this.heightTotal,this.isBefore=!1,this.isAfter=!1),"down"===t&&this.isAfter&&(this.extra+=this.heightTotal,this.isBefore=!1,this.isAfter=!1)}remapValue(e,t,r,i,l,o=!1){let s=(e-t)/(r-t)*(l-i)+i;return o?Math.round(s):s}destroy(){this.scene.remove(this.plane),this.plane.geometry.dispose(),this.plane.material.dispose(),this.texture.dispose(),this.material.dispose(),this.geometry.dispose()}}class b{constructor(e){this.el=e,this.canvas=this.el.querySelector("canvas"),this.images=Array.from(this.el.querySelectorAll(".home-photo-gallery-item img")).map(e=>e.src),this.scroll={ease:.1,current:0,target:0,last:0},this.init()}init(){this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.createGeometry(),this.createMedias(),this.update.bind(this)(),this.addEventListeners()}createRenderer(){this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.el.clientWidth,this.el.clientHeight)}createCamera(){this.camera=new THREE.PerspectiveCamera(45,this.el.clientWidth/this.el.clientHeight,.1,1e3),this.camera.position.z=20}createScene(){this.scene=new THREE.Scene}createGeometry(){this.planeGeometry=new THREE.PlaneGeometry(1,1,100,1)}createMedias(){this.medias=this.images.map((e,t)=>new v({scene:this.scene,geometry:this.planeGeometry,renderer:this.renderer,screen:this.screen,viewport:this.viewport,image:e,length:this.images.length,index:t}))}onResize(){if(!this.el)return;this.screen={width:this.el.clientWidth,height:this.el.clientHeight},this.renderer.setSize(this.screen.width,this.screen.height),this.camera.aspect=this.screen.width/this.screen.height,this.camera.fov=45,this.camera.updateProjectionMatrix();let e=this.camera.fov*(Math.PI/180),t=2*Math.tan(e/2)*this.camera.position.z,r=t*this.camera.aspect;this.viewport={height:t,width:r},this.medias&&this.medias.forEach(e=>e.onResize({screen:this.screen,viewport:this.viewport}))}onWheel(e){let t=p.scroller.velocity;this.scroll.target+=.1*t}update(e){this.scroll.current+=.05+.1*p.scroller.velocity,this.scroll.ease=Math.min(Math.max(p.scroller.velocity/50,.05),.15),c(this.canvas,"horizontal")&&(this.scroll.current>this.scroll.last?this.direction="up":this.direction="down",this.medias&&this.medias.forEach(e=>e.update(this.scroll,this.direction)),this.renderer.render(this.scene,this.camera),this.scroll.last=this.scroll.current),requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("resize",this.onResize),window.addEventListener("wheel",this.onWheel.bind(this))}destroy(){window.removeEventListener("resize",this.onResize),window.removeEventListener("wheel",this.onWheel),setTimeout(()=>{this.medias&&this.medias.forEach(e=>e.destroy()),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer.domElement=null,this.renderer=null,this.scene=null,this.camera=null,this.geometry=null,this.material=null,this.plane=null,this.planeGeometry=null,this.texture=null,this.material=null,this.scene=null,this.renderer=null,this.screen=null,this.viewport=null,this.images=null,this.canvas=null,this.el=null},400)}}class _{constructor(e){this.canvas=e,this.CAMERA_POS=500,this.observer,this.mediaStore,this.scene,this.geometry,this.material}init(){this.setup(),this.play()}setup(){this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=e.target.dataset.index;t&&(this.mediaStore[parseInt(t)].isInView=e.isIntersecting)})},{rootMargin:"500px 0px 500px 0px"}),this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,10,1e3),this.camera.position.z=this.CAMERA_POS,this.camera.fov=this.calcFov(this.CAMERA_POS),this.camera.updateProjectionMatrix(),this.geometry=new THREE.PlaneGeometry(1,1,100,100),this.material=new THREE.ShaderMaterial({uniforms:{uResolution:{value:new THREE.Vector2(window.innerWidth,window.innerHeight)},uTime:{value:0},uCursor:{value:new THREE.Vector2(.5,.5)},uScrollVelocity:{value:0},uTexture:{value:null},uTextureSize:{value:new THREE.Vector2(100,100)},uQuadSize:{value:new THREE.Vector2(100,100)},uBorderRadius:{value:0},uMouseEnter:{value:0},uMouseOverPos:{value:new THREE.Vector2(.5,.5)}},vertexShader:effectVertex,fragmentShader:effectFragment,glslVersion:THREE.GLSL3}),this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}play(){window.addEventListener("resize",i(this.onResize.bind(this))),this.setMediaStore(q.scroller.scrollY),requestAnimationFrame(this.render.bind(this)),setTimeout(()=>{this.allMedia.forEach((e,t)=>{e.style.opacity=0})},100)}handleMouseEnter(e){gsap.to(this.mediaStore[e],{mouseEnter:1,duration:.6,ease:"power2.out"})}handleMousePos(e,t){let r=this.mediaStore[t].media.getBoundingClientRect(),i=e.offsetX/r.width,l=e.offsetY/r.height;this.mediaStore[t].mouseOverPos.target.x=i,this.mediaStore[t].mouseOverPos.target.y=l}handleMouseLeave(e){gsap.to(this.mediaStore[e],{mouseEnter:0,duration:.6,ease:"power2.out"}),gsap.to(this.mediaStore[e].mouseOverPos.target,{x:.5,y:.5,duration:.6,ease:"power2.out"})}setMediaStore=e=>{this.allMedia=[...document.querySelectorAll(".nav img")],this.mediaStore=this.allMedia.map((t,r)=>{let i=t.getAttribute("data-scroll-img");this.observer.observe(t),t.dataset.index=String(r),t.addEventListener("mouseenter",()=>this.handleMouseEnter(r)),t.addEventListener("mousemove",e=>this.handleMousePos(e,r)),t.addEventListener("mouseleave",()=>this.handleMouseLeave(r));let l=t.getBoundingClientRect(),o=this.material.clone(),s=new THREE.Mesh(this.geometry,o),a=new THREE.TextureLoader,n=a.load(t.getAttribute("src"),()=>{o.uniforms.uTexture.value=n},void 0,e=>{console.error("Error loading texture:",e)});return o.uniforms.uTextureSize.value.x=t.naturalWidth,o.uniforms.uTextureSize.value.y=t.naturalHeight,o.uniforms.uQuadSize.value.x=Math.ceil(l.width),o.uniforms.uQuadSize.value.y=Math.ceil(l.height),o.uniforms.uBorderRadius.value=Math.ceil(getComputedStyle(t.parentElement).borderRadius.replace("px","")),s.scale.set(Math.ceil(l.width),Math.ceil(l.height),1),l.top>=0&&l.top<=window.innerHeight||(s.position.y=2*window.innerHeight),this.scene.add(s),{media:t,type:i,material:o,mesh:s,width:l.width,height:l.height,top:l.top+e,left:l.left,isInView:l.top>=-500&&l.top<=window.innerHeight+500,mouseEnter:0,mouseOverPos:{current:{x:.5,y:.5},target:{x:.5,y:.5}}}})};updateMedia(e){this.mediaStore.forEach(t=>{t.isInView?(t.mouseOverPos.current.x=s(t.mouseOverPos.current.x,t.mouseOverPos.target.x,.05),t.mouseOverPos.current.y=s(t.mouseOverPos.current.y,t.mouseOverPos.target.y,.05),t.material.uniforms.uResolution.value.x=window.innerWidth,t.material.uniforms.uResolution.value.y=window.innerHeight,t.material.uniforms.uTime.value=e,t.material.uniforms.uCursor.value.x=d.normalizeMousePos.current.x,t.material.uniforms.uCursor.value.y=d.normalizeMousePos.current.y,t.material.uniforms.uScrollVelocity.value=q.scroller.velocity,t.material.uniforms.uMouseOverPos.value.x=t.mouseOverPos.current.x,t.material.uniforms.uMouseOverPos.value.y=t.mouseOverPos.current.y,t.material.uniforms.uMouseEnter.value=t.mouseEnter):t.mesh.position.y=2*window.innerHeight})}setPositions(){this.mediaStore.forEach((e,t)=>{if($(".nav").hasClass("active")){let r=parseFloat(window.getComputedStyle(document.querySelector(".nav")).opacity);r>.1?(e.mesh.position.x=e.left-window.innerWidth/2+e.width/2,e.mesh.position.y=-e.top+window.innerHeight/2-e.height/2+q.scroller.scrollY):e.mesh.position.x=2*window.innerWidth}})}render(e=0){e/=1e3,this.updateMedia.bind(this)(e),this.setPositions(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render.bind(this))}calcFov(e){return 2*Math.atan(window.innerHeight/2/e)*180/Math.PI}resizeThreeCanvas(e){this.camera instanceof THREE.PerspectiveCamera&&(this.camera.aspect=window.innerWidth/window.innerHeight,e&&(this.camera.fov=e)),this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}onResize(){let e=this.calcFov(this.CAMERA_POS);this.resizeThreeCanvas(e),this.mediaStore.forEach(e=>{let t=e.media.getBoundingClientRect();e.mesh.scale.set(t.width,t.height,1),e.width=t.width,e.height=t.height,e.top=t.top+q.scroller.scrollY,e.left=t.left,e.isInView=t.top>=0&&t.top<=window.innerHeight,e.material.uniforms.uTextureSize.value.x=e.media.naturalWidth,e.material.uniforms.uTextureSize.value.y=e.media.naturalHeight,e.material.uniforms.uQuadSize.value.x=t.width,e.material.uniforms.uQuadSize.value.y=t.height,e.material.uniforms.uBorderRadius.value=getComputedStyle(e.media.parentElement).borderRadius.replace("px","")})}destroy(){window.removeEventListener("resize",this.onResize.bind(this)),this.mediaStore.forEach(e=>{this.observer.unobserve(e.media),this.scene.remove(e.mesh),e.material.uniforms.uTexture.value.dispose(),e.material.dispose(),e.geometry.dispose(),e.mesh.geometry.dispose(),e.mesh.material.dispose(),e=null}),this.canvas=null,this.scene=null,this.geometry=null,this.material=null,this.renderer=null,this.canvas=null,this.mediaStore=null,this.observer=null,this.mousePos=null,this.mouseEnter=null,this.mouseOverPos=null,this.mouseLeave=null}}class S{constructor(){this.isLoaded="true"===sessionStorage.getItem("isLoaded"),this.tlLoadDone=null,this.tlLoadMaster=null}init(e){gsap.set(".loader-sun",{filter:"blur(1px)",yPercent:7}),gsap.set(".loader-bg-gradient",{"background-image":"radial-gradient(circle at 50% 57%, rgba(86,131,255,1) 0%, rgba(86,131,255,0) 100%)"}),gsap.set(".loader-text",{y:0,opacity:1,filter:"blur(0px)"}),this.tlFirst=gsap.timeline({paused:!0,defaults:{ease:"none"}}),this.tlFirst.to(".loader-light",{opacity:.6,duration:.3}).fromTo(".loader-text-inner",{yPercent:0},{yPercent:-1/3*100,duration:.6,ease:"power1.inOut"},"<=0"),this.tlProgSun=gsap.timeline({paused:!0,onUpdate(){let e=Math.floor(100*this.progress());$(".loader-text-count .txt").text(e<10?"0"+e:e)},defaults:{ease:"none"}}),this.tlProgSun.to(".loader-sun",{filter:"blur(0px)",yPercent:-70,duration:3}).to(".loader-light",{yPercent:-52,opacity:1,scaleX:1,scaleY:1,duration:3},"<=0").to(".loader-light-clone",{opacity:.1,duration:3},"<=0").to(".loader-bg-gradient",{opacity:.6,duration:3},"<=0").to(".loader-bg-white",{opacity:.4,duration:3},"<=0").to(".loader-sun-wrap",{"--sd-blur":"2rem","--sd-spread":"0.5rem","--sd-alpha":".45",duration:3},"<=0"),this.tlProgLogo=gsap.timeline({paused:!0,defaults:{ease:"none"}}),this.tlProgLogo.to(".loader-sun-inner",{"--mask-top-1":"69%",duration:1,ease:"circ.out"}).to(".loader-sun-outer",{"--mask-top-2":"99%",duration:.8,ease:"circ.out"},"<=.2").to(".loader-text-inner",{yPercent:-2/3*100,duration:1,ease:"circ.out"},"<=.5"),this.tlAfter=gsap.timeline({paused:!0,defaults:{ease:"none"},onStart:()=>{this.onceSetup(e)}}).to(".loader-sun-wrap",{"--sd-blur":"3rem","--sd-spread":"5rem","--sd-alpha":"1",duration:2}).to(".loader-sun-glow",{scale:1.4,opacity:1,duration:2},"<=0").to(".loader-light",{opacity:.2,scale:2.4,duration:2},"<=0").to(".loader-light-inner",{filter:"saturate(.1) brightness(1.3)",duration:2},"<=0").to(".loader-light-clone",{opacity:.07,scale:1.2,duration:2},"<=0").to(".loader-sun",{scale:1.1,filter:"blur(.3rem)",opacity:0,duration:2},"<=0").to(".loader-text",{y:2,opacity:0,duration:1,filter:"blur(.2rem)"},"<=0").to(".loader-bg-gradient",{opacity:1,"background-image":"radial-gradient(circle at 50% 57%, #FBF1ED 20%, #1C2B71 130%)",duration:1.5},"<=.5").to(".loader-bg-white",{opacity:0,duration:1.5},"<=0").to(".loader",{scale:1.1,duration:1.5},"<=0").to(".loader-bg-back",{background:"#869CF9",opacity:0,duration:1},"<=.5").to(".loader-sun",{opacity:0,duration:.5},"<=.5").to(".loader-light-inner",{opacity:0,duration:.5},"<=0"),this.tlLoadDone=gsap.timeline({paused:!0,onStart:()=>{this.oncePlay(e)}}),this.tlLoadDone.to(".loader-bg-front",{yPercent:100,duration:1,ease:"power2.inOut"}),this.tlLoading=gsap.timeline({paused:!0,onStart(){},onComplete(){}}),this.tlLoading.to(this.tlFirst,{duration:this.tlFirst.totalDuration(),progress:1,ease:"none"}).to(this.tlProgSun,{duration:this.tlProgSun.totalDuration()*(this.isLoaded?.3:1),progress:1,ease:"power2.inOut"}).to(this.tlProgLogo,{delay:.1,duration:this.tlProgLogo.totalDuration(),progress:1,ease:"none"},">=-.2").to(this.tlAfter,{duration:this.tlAfter.totalDuration(),progress:1,ease:"power2.inOut"}).to(this.tlLoadDone,{duration:this.tlLoadDone.totalDuration(),progress:1,ease:"none"},">=-1"),this.tlLoadMaster=gsap.timeline({paused:!0,delay:this.isLoaded?.3:1}),this.tlLoadMaster.to(this.tlLoading,{duration:this.tlLoading.totalDuration(),progress:1,ease:"none"})}play(e){setTimeout(()=>$("data-init-loader").removeAttr("data-init-loader"),200),this.tlLoadMaster.play()}devMode(e){this.onceSetup(e),this.oncePlay(e),$(".loader").remove()}onceSetup(e){R.triggerOnceSetup(e)}oncePlay(e){R.triggerOncePlay(e),$(".loader").css("pointer-events","none"),sessionStorage.setItem("isLoaded",!0)}}let w=new S;class x{constructor(){this.el=null,this.toggleEl=null,this.toggleEl=null,this.tl=null,this.cloneHeader=null}init(e){this.el=document.querySelector(".header"),this.toggleEl=this.el.querySelector(".header-toggle"),this.toggleEl=this.el.querySelector(".header-toggle"),this.updateStyle(e),this.tl=gsap.timeline({paused:!0}),gsap.set(".header-link, .header-logo-main, .header-logo-sub",{overflow:"hidden"}),this.tl.from(".header-logo-main, .header-logo-sub-dot, .header-logo-sub-txt",{yPercent:100,duration:1,autoAlpha:0,ease:"power2.out",clearProps:"all"}).from(".header-link-txt",{yPercent:100,duration:1,autoAlpha:0,ease:"power2.out",stagger:.05,clearProps:"all"},"<=.3").from(".header-toggle, .header-back",{scale:1.2,duration:1,autoAlpha:0,ease:"circ.inOut",clearProps:"all"},"<=.3")}updateStyle(e){this.resetStyle();let t=e.next.namespace;"home"==t||"detail"==t&&document.querySelectorAll(".header").forEach(t=>{t.classList.add("on-detail"),t.querySelector(".header-inner-page-txt").innerHTML=e.next.container.querySelector(".detail-hero-title").textContent})}updateOnScroll(e){this.el.classList.contains("on-detail")?e.scroll>2*this.el.clientHeight?this.el.classList.add("on-scroll"):this.el.classList.remove("on-scroll"):767>=$(window).width()&&(e.scroll>2*this.el.clientHeight?this.el.classList.add("on-scroll"):this.el.classList.remove("on-scroll"))}isOpen(){return this.el.classList.contains("on-open-nav")}resetStyle(){document.querySelectorAll(".header").forEach(e=>{e.classList.remove("on-scroll"),e.classList.remove("on-detail")})}play(){this.tl.play()}addCloneHeader(){this.cloneHeader=this.el.cloneNode(!0),this.cloneHeader.style.zIndex="100000",this.cloneHeader.style.mixBlendMode="normal",this.cloneHeader.style.filter="blur(0px)",this.cloneHeader.style.pointerEvents="none",this.cloneHeader.style.opacity="0",gsap.set([this.el,this.cloneHeader,this.el.querySelectorAll("*"),this.cloneHeader.querySelectorAll("*")],{"pointer-events":"none"}),document.querySelector(".common").appendChild(this.cloneHeader),requestAnimationFrame(()=>{gsap.to(this.cloneHeader,{duration:.6,opacity:1})})}updateCloneHeader(e){let t=this.cloneHeader.querySelectorAll("*");t.forEach(t=>t.style.color=e);let r=this.cloneHeader.querySelectorAll(".header-toggle-open-item, .header-toggle-close-item");r.forEach(t=>t.style.backgroundColor=e);let i=this.cloneHeader.querySelector(".header-toggle-bg");i&&(i.style.color="--_theme---scrollbar")}deleteCloneHeader(){this.cloneHeader&&gsap.fromTo(this.cloneHeader,{opacity:1},{duration:.6,opacity:0,onComplete:()=>{gsap.set([this.el,this.cloneHeader,this.el.querySelectorAll("*"),this.cloneHeader.querySelectorAll("*")],{clearProps:"pointer-events"}),this.cloneHeader.remove(),this.cloneHeader=null}})}}let T=new x;class P{constructor(){this.el=null,this.isOpen=!1,this.isInitEffect=!1,this.scroller={scrollX:window.scrollX,scrollY:window.scrollY,velocity:0},this.tlToggle=null,this.setup()}setup(e){this.el=document.querySelector(".nav"),this.initScroller(),this.animateToggle(),requestAnimationFrame(this.eventToggle.bind(this)),$(window).width()>991&&(this.handleUpdateTheme(),this.initHover())}initScroller(){this.navScroll=new Lenis({autoRaf:!0,duration:1.2,wrapper:document.querySelector(".nav-inner"),infinite:$(window).width()>991}),this.navScroll.on("scroll",e=>{this.updateOnScroll(e)})}eventToggle(){T.toggleEl.addEventListener("click",this.handleClick.bind(this)),T.toggleEl.addEventListener("mouseenter",function(e){this.isOpen||T.toggleEl.classList.remove("force-hover")}),this.initLinkActive()}initLinkActive(){this.el.querySelectorAll("a.w--current.active").forEach(e=>{e.addEventListener("click",this.handleClick.bind(this))})}animateToggle(){this.tlToggle=gsap.timeline({paused:!0,onComplete:()=>gsap.set(T.toggleEl,{clearProps:"pointer-events"}),onReverseComplete:()=>gsap.set(T.toggleEl,{clearProps:"pointer-events"})});let e=gsap.timeline({paused:!0}),t=gsap.timeline({paused:!0});this.title=new SplitType(".nav-title",{types:"lines, words",lineClass:"bp-line",wordClass:"bp-word"}),this.sub=new SplitType(".nav-sub",{types:"lines, words",lineClass:"lines",wordClass:"bp-word"}),this.subBot=new SplitType(".nav-bot-txt",{types:"lines, words",lineClass:"lines",wordClass:"bp-word"}),gsap.set(".nav-logo-ic",{yPercent:100,autoAlpha:0}),gsap.set(".nav-main",{y:40}),gsap.set(".nav-logo-title-txt",{yPercent:60,autoAlpha:0}),gsap.set(".nav-bg",{autoAlpha:0}),e.fromTo(".nav-logo-ic",{yPercent:100,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.8,ease:"power2.out",overwrite:!0},"<=0").fromTo(".nav-logo-title-txt",{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.8,ease:"power2.out",overwrite:!0},"<=.2").fromTo(this.title.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.8,stagger:.05,ease:"power2.out",overwrite:!0},"<=.1").fromTo(this.sub.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.6,stagger:.012,ease:"power2.out",overwrite:!0},"<=.2").fromTo(this.subBot.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.6,stagger:.02,ease:"power2.out",overwrite:!0},"<=.1"),document.querySelectorAll(".nav-main-item").forEach((e,r)=>{let i=new SplitType(e.querySelector(".nav-main-item-label"),{types:"lines, words",lineClass:"bp-line",wordClass:"bp-word"}),l=new SplitType(e.querySelector(".nav-main-item-title"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"});t.fromTo(e.querySelector(".nav-main-item-thumb-icon"),{yPercent:-100,scale:1.5},{yPercent:0,duration:.8,scale:1,ease:"power2.out",overwrite:!0},0).fromTo(e.querySelector(".nav-main-item-thumb-inner"),{yPercent:100,autoAlpha:0},{yPercent:0,duration:.8,autoAlpha:1,ease:"power2.out",clearProps:"all",overwrite:!0},.2).fromTo(i.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.4,ease:"power2.out",clearProps:"all",overwrite:!0},.14).fromTo(l.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.6,stagger:.012,ease:"power2.out",clearProps:"all",overwrite:!0},.14)}),this.tlToggle.fromTo(".nav-bg",{autoAlpha:0},{autoAlpha:1,duration:1,ease:"power2.in",overwrite:!0,onComplete:()=>gsap.set(T.toggleEl,{clearProps:"pointer-events"}),onReverseComplete:()=>gsap.set(T.toggleEl,{clearProps:"pointer-events"})}).to(e,{duration:e.totalDuration(),progress:1},">=-.25").fromTo(".nav-main",{y:40},{y:0,duration:.6,ease:"power1.inOut",overwrite:!0},"<=0").to(t,{duration:t.totalDuration(),progress:1},"<=0")}handleClick(e){e.preventDefault(),gsap.set(T.toggleEl,{"pointer-events":"none"}),this.isOpen?this.close():this.open()}initHover(){this.mouse={xMove:0,yMove:0,xCurr:0,yCurr:0},document.querySelectorAll(".nav-main-item").forEach((e,t)=>{let r=e.querySelector(".nav-main-item-thumb-icon");gsap.set(r,{x:0,y:0})}),this.mouseMove.bind(this)()}mouseEnter(e){gsap.to(e.querySelector(".nav-main-item-thumb-inner"),{scale:1.1,duration:.6,ease:"power1.out"})}mouseLeave(e){gsap.to(e.querySelector(".nav-main-item-thumb-inner"),{scale:1,duration:.6,ease:"power1.out"})}normalize(e,t){return(e/t-.5)*2}mouseMove(){document.querySelectorAll(".nav-main-item").forEach((e,t)=>{let r=e.querySelector(".nav-main-item-thumb").getBoundingClientRect(),i=e.querySelector(".nav-main-item-thumb-icon"),l=e.querySelector(".nav-main-item-thumb").matches(":hover");this.mouse.xCurr=gsap.getProperty(i,"x"),this.mouse.yCurr=gsap.getProperty(i,"y"),this.mouse.xMove=l?15*this.normalize(d.mousePos.x-r.left,r.width):0,this.mouse.yMove=l?15*this.normalize(d.mousePos.y-r.top,r.height):0,gsap.set(i,{x:s(this.mouse.xCurr,this.mouse.xMove,.08),y:s(this.mouse.yCurr,this.mouse.yMove,.08)})}),requestAnimationFrame(this.mouseMove.bind(this))}handleUpdateTheme(){document.querySelectorAll(".nav-main-item").forEach(e=>{let t=e.querySelector(".nav-main-item-inner");gsap.set(t,{"--detail-main-bg":$(t).css("--_theme---main-bg"),"--detail-sub-bg":$(t).css("--_theme---sub-bg"),"--detail-title":$(t).css("--_theme---title"),"--_theme---main-bg":"revert","--_theme---sub-bg":"revert","--_theme---title":"revert"});let r=e=>gsap.getProperty(t,`--detail-${e}`);e.addEventListener("mouseenter",function(e){gsap.to(document.querySelector(".nav"),{"--_theme---main-bg":r("main-bg"),"--_theme---sub-bg":r("sub-bg"),"--_theme---title":r("title"),duration:1,overwrite:!0})}),e.addEventListener("mouseleave",function(e){gsap.to(document.querySelector(".nav"),{"--_theme---main-bg":$("body").css("--_theme---main-bg"),"--_theme---sub-bg":$("body").css("--_theme---sub-bg"),"--_theme---title":$("body").css("--_theme---title"),duration:1,overwrite:!0,clearProps:"all"})})})}initEffect(){let e=document.createElement("canvas");e.classList.add("nav-canvas"),e.style.position="fixed",e.style.pointerEvents="none",e.style.top=0,e.style.left=0,e.style.zIndex=5,e.width=window.innerWidth,e.height=window.innerHeight,document.querySelector(".nav").appendChild(e);let t=new _(document.querySelector(".nav-canvas"));t.init()}open(){this.isOpen||($(".header").addClass("on-open-nav"),$(".nav").addClass("active"),$(".header-toggle").removeClass("force-hover").addClass("active"),this.tlToggle.restart(),this.isOpen=!0)}close(){if(!this.isOpen)return;this.tlToggle.reverse();let e=1e3*this.tlToggle.totalDuration();setTimeout(()=>{$(".nav").removeClass("active"),this.isOpen=!1},e),setTimeout(()=>{$(".header").removeClass("on-open-nav"),$(".header-toggle").removeClass("active").addClass("force-hover")},.2*e)}updateOnScroll=e=>{this.scroller.scrollY=e.scroll,this.scroller.velocity=.5*e.velocity}}let q=new P;class E{constructor(){this.namespace=null}init(e){this.namespace=e.next.namespace,this.updateFontSize(e),$(window).width()>991&&this.updateDecorItemsPos(e),T.init(e),this.updateTheme(e),this.refreshOnBreakpoint(),this.updateLink(e)}update(e){this.updateFontSize(e),this.updateDecorItemsPos(e),this.updateLink(e),this.updateTheme(e),T.updateOnScroll(p.lenis)}updateDecorItemsPos(e){}updateFontSize(e){}updateLink(e){document.querySelectorAll("a").forEach(t=>{let r=t.getAttribute("href"),i=`${window.location.pathname}${window.location.hash}`;t.classList.toggle("w--current",r===i),"detail"==e.next.namespace&&(t.classList.toggle("active",r===i),q.initLinkActive())}),document.querySelectorAll(".main-btn").forEach(e=>{gsap.set(e.querySelector(".main-btn-text-inner"),{"--btn-width":e.getBoundingClientRect().height+"px"})})}updateTheme(e){if(gsap.set(".nav-bg",{clearProps:"all"}),"detail"==e.next.namespace){let t={mainBG:gsap.getProperty(e.next.container.querySelector(".detail-hero-title"),"--_theme---main-bg"),subBG:gsap.getProperty(e.next.container.querySelector(".detail-hero-title"),"--_theme---sub-bg"),title:gsap.getProperty(e.next.container.querySelector(".detail-hero-title"),"--_theme---title"),decor:gsap.getProperty(e.next.container.querySelector(".detail-hero-title"),"--_theme---decor"),border:gsap.getProperty(e.next.container.querySelector(".detail-hero-title"),"--_theme---border"),scrollbar:gsap.getProperty(e.next.container.querySelector(".detail-hero-title"),"--_theme---scrollbar")};gsap.set(".body",{"--_theme---main-bg":t.mainBG,"--_theme---sub-bg":t.subBG,"--_theme---title":t.title,"--_theme---decor":t.decor,"--_theme---border":t.border,"--_theme---scrollbar":t.scrollbar})}}refreshOnBreakpoint(){let e=[479,767,991],t=window.innerWidth||document.documentElement.clientWidth,r=e.find(e=>t<e)||e[e.length-1];window.addEventListener("resize",i(function(){let e=window.innerWidth||document.documentElement.clientWidth;(t<r&&e>=r||t>=r&&e<r)&&location.reload()}))}}let C=new E;class A{constructor(){}triggerEvent(e,t){let r=new CustomEvent(e,{detail:t});t.next.container.dispatchEvent(r)}triggerOnceSetup(e){console.log("Global Hooks: onceSetup"),this.triggerEvent("onceSetup",e)}triggerOncePlay(e){console.log("Global Hooks: oncePlay"),this.triggerEvent("oncePlay",e)}triggerEnterSetup(e){console.log("Global Hooks: enterSetup"),this.triggerEvent("enterSetup",e)}triggerEnterPlay(e){console.log("Global Hooks: enterPlay"),this.triggerEvent("enterPlay",e)}}let R=new A;class H{constructor(){this.tlLeave=null,this.tlEnter=null,this.el=document.querySelector(".trans"),this.allCurves=this.el.querySelectorAll(".trans-curve:not(.revert) .dynamic-path"),this.allCurvesRev=this.el.querySelectorAll(".trans-curve.revert .dynamic-path"),this.titleEl=this.el.querySelector(".trans-title-text"),this.titleSplit=null,this.homeCurrentScroll=window.innerWidth>991?window.innerWidth+.09*window.innerHeight:window.innerHeight+.09*window.innerWidth,this.updateSvg(),window.addEventListener("resize",i(()=>{this.updateSvg()},100))}updateSvg(){let e=window.innerWidth,t=window.innerHeight,r=1*t/5;this.el.querySelectorAll("svg").forEach(i=>{i.setAttribute("viewBox",`0 0 ${e} ${t}`);let l=i.querySelector(".dynamic-path").cloneNode(!0);i.innerHTML="";for(let o=0;o<5;o++){let s=l.cloneNode(!0);i.appendChild(s.cloneNode(!0))}let a=i.querySelectorAll(".dynamic-path");a.forEach((i,l)=>{let o=(l+.5)*r,s=(l+.5)*r,a=t-s,n=`M ${-r},${o} L ${e-t+200},${o} A ${a+200} ${a+200} 0 0 1 ${e-s+400} ${t+200} L ${e-s+400} ${t+400}`;i.setAttribute("d",n),i.setAttribute("stroke-width",r),i.setAttribute("stroke-linecap","round"),i.setAttribute("fill","transparent"),i.setAttribute("pathLength","1"),i.setAttribute("stroke-dasharray","1"),i.setAttribute("stroke-dashoffset","0")})}),this.allCurves=this.el.querySelectorAll(".trans-curve:not(.revert) .dynamic-path"),this.allCurvesRev=this.el.querySelectorAll(".trans-curve.revert .dynamic-path")}leaveAnim(t){return this.tlLeave=gsap.timeline({onStart:()=>{T.addCloneHeader(),this.updateBeforeTrans.bind(this)(t);let r=t.next.namespace,i="home"===r?t.current.container.querySelector("[data-detail-namespace]").getAttribute("data-detail-namespace"):t.next.container.querySelector("[data-detail-namespace]").getAttribute("data-detail-namespace");$(".trans-inner").css("transform","home"===r?"scale(-1)":"scale(1)");let l={brand:{color:"#FFF58C",cls:["#9C4E23","#A25829","#A8612F","#AD6A35","#B2723A"],cls2:["#A8612F","#B2723A","#BB8144","#C38F4C","#CA9B54"]},typography:{color:"#FFF58C",cls:["#9C4E23","#A25829","#A8612F","#AD6A35","#B2723A"],cls2:["#A8612F","#B2723A","#BB8144","#C38F4C","#CA9B54"]},voice:{color:"#C4FFB2",cls:["#164C3B","#205742","#2A6149","#336A4F","#3C7355"],cls2:["#205742","#336A4F","#447B5B","#538A65","#60986E"]},color:{color:"#C4FFB2",cls:["#164C3B","#205742","#2A6149","#336A4F","#3C7355"],cls2:["#205742","#336A4F","#447B5B","#538A65","#60986E"]},default:{color:"#8DC9F4",cls:["#070F36","#0E1840","#142149","#1A2952","#20315A"],cls2:["#0E1840","#1A2952","#253962","#2F4770","#3C5A83"]}},o=l[i]||l.default;$(this.titleEl).css("color",o.color),T.updateCloneHeader(o.color),e(this.allCurves,o.cls,"home"!==r),e(this.allCurvesRev,o.cls2,"home"===r),gsap.set(".trans",{autoAlpha:1});let s="home"==t.next.namespace?"A New Dawn for Human Potential":t.next.container.querySelector(".detail-hero-title").textContent;this.titleEl.textContent=s,this.titleSplit=new SplitType(this.titleEl,{types:"chars",lineClass:"lines",wordClass:"bp-word"}),gsap.set(this.titleSplit.chars,{yPercent:60,autoAlpha:0}),gsap.set(this.el.querySelector(".trans-text"),{opacity:1}),gsap.set(this.allCurves,{"stroke-dashoffset":"var(--curve-offset)","--curve-offset":-1}),gsap.set(this.allCurvesRev,{"stroke-dashoffset":"var(--curve-offset)","--curve-offset":-1}),gsap.to(this.titleSplit.chars,{yPercent:0,autoAlpha:1,duration:.4,ease:"power2.inOut",stagger:.008,delay:.4})},onComplete:()=>{this.updateAfterTrans.bind(this)(t)}}),this.allCurves.forEach((e,t)=>{this.tlLeave.fromTo(e,{"--curve-offset":-1},{"--curve-offset":0,duration:.85-.3*Math.random(),ease:"power2.out"},.3*Math.random()+.15)}),this.allCurvesRev.forEach((e,t)=>{this.tlLeave.fromTo(e,{"--curve-offset":-1},{"--curve-offset":0,duration:1-.3*Math.random(),ease:"power2.out"},.3*Math.random())}),this.tlLeave}enterAnim(e){return this.tlEnter=gsap.timeline({delay:.4,onStart:()=>{this.enterSetup(e),gsap.to(this.titleSplit.chars,{yPercent:60,autoAlpha:0,duration:.4,ease:"power2.inOut",stagger:.008,color:"#8DC9F4",onComplete:()=>{this.titleSplit.revert(),this.titleEl.textContent="",this.titleSplit=null}}),setTimeout(()=>{this.enterPlay(e)},100),setTimeout(()=>{T.deleteCloneHeader()},400)},onComplete(){gsap.set(".trans, .trans-col",{clearProps:"all"})}}),this.tlEnter.fromTo(e.next.container,{opacity:0},{duration:.6,opacity:1,clearProps:"all"},0),this.allCurves.forEach((e,t)=>{this.tlEnter.fromTo(e,{"--curve-offset":0},{"--curve-offset":1,duration:1-.3*Math.random(),ease:"power2.out"},.3*Math.random())}),this.allCurvesRev.forEach((e,t)=>{this.tlEnter.fromTo(e,{"--curve-offset":0},{"--curve-offset":1,duration:.8-.3*Math.random(),ease:"power2.out"},.3*Math.random())}),this.tlEnter}async play(e){await L.leaveAnim(e).then(()=>{L.enterAnim(e)})}enterSetup(e){B.hero.switchAnimType(),B.brand.switchAnimType(),R.triggerEnterSetup(e)}enterPlay(e){R.triggerEnterPlay(e)}updateBeforeTrans(e){"home"==e.current.namespace&&(this.homeCurrentScroll=p.scroller.scrollX),gsap.set(e.next.container,{opacity:0,"pointer-events":"none",zIndex:1}),T.updateStyle(e),T.isOpen()&&q.close(),p.stop(),p.destroy(),n("disconnect"),e.current.container&&$(e.current.container).css("z-index",2)}updateAfterTrans(e){p.reinit(e),"home"==e.next.namespace&&p.lenis.scrollTo(this.homeCurrentScroll,0,{duration:0}),"detail"==e.next.namespace&&gsap.set(".body",{clearProps:"all"}),n("init",e),C.update(e),e.current.container&&e.current.container.remove()}}let L=new H,z={Hero:class{constructor(){this.el=null,this.tlTrigger=null,this.tlHero=null,this.tlEnter=null,this.tlTriggerEnter=null,this.tlParallax=[],this.animType="load"}setup(e){this.el=e.next.container.querySelector(".home-hero"),this.parallax(e),$(window).width()>991||e.next.container.querySelectorAll(".home-hero-title-charc-item svg").forEach(e=>{e.setAttribute("width","100%"),e.removeAttribute("height")}),"load"==this.animType?this.setupOnce(e):this.setupEnter(e)}setupOnce(e){console.log("home hero setup once");let r=($(window).width()>767?$(window).height():this.el.getBoundingClientRect().height)-this.el.querySelector(".home-hero-title-wrap").getBoundingClientRect().height-($(window).width()>991?t(150):10);gsap.getProperty(this.el.querySelector(".home-hero-thumb-inner"),"border-radius"),gsap.set(this.el.querySelectorAll(".home-hero-title-charc"),{y:r,overflow:"hidden"}),gsap.set(this.el.querySelector(".home-hero-title-decor"),{y:r+30,overflow:"hidden"}),gsap.set(this.el.querySelector(".home-hero-thumb"),{overflow:"hidden"}),gsap.set(this.el.querySelector(".home-hero-sub-inner"),{overflow:"hidden"}),gsap.set(this.el.querySelector(".home-hero-sub-txt"),{yPercent:100,autoAlpha:0}),gsap.set(this.el.querySelector(".home-hero-thumb-inner"),{yPercent:100,autoAlpha:0}),gsap.set(this.el.querySelectorAll(".home-hero-title-decor-uline"),{scaleX:0,transformOrigin:"left"}),this.tlHero=gsap.timeline({paused:!0,onStart(){$("[data-init-hidden]").removeAttr("data-init-hidden")},onComplete(){document.querySelectorAll(".home-hero-thumb-video video").forEach(e=>e.play())}}),this.tlHero.from(this.el.querySelectorAll(".home-hero-title-charc-item"),{transformOrigin:"bottom",scale:.8,yPercent:80,x:-10,autoAlpha:0,ease:"expo.out",duration:2,stagger:.05,delay:.5,clearProps:"all"}).to(this.el.querySelector(".home-hero-title-charc"),{y:r,duration:2,ease:"circ.inOut"},"<=0").to(this.el.querySelector(".home-hero-title-charc"),{y:r+30,duration:1,ease:"back.out(1.3)",overwrite:!0},"<=.5").from(this.el.querySelector(".home-hero-title-decor-txt"),{transformOrigin:"bottom",scale:.8,yPercent:80,x:-10,autoAlpha:0,ease:"expo.out",duration:1.5,clearProps:"all"},"<=0").to(this.el.querySelectorAll(".home-hero-title-decor-uline"),{scaleX:1,duration:1,clearProps:"transform"},"<=0.8").to(this.el.querySelector(".home-hero-title-charc"),{y:0,duration:1,ease:"power2.out",clearProps:"transform"},"<=0").to(this.el.querySelector(".home-hero-title-decor"),{y:0,duration:1,ease:"power2.out",onStart(){T.play(),setTimeout(()=>B.brand.playOnce(),300)}},"<=0").to(this.el.querySelector(".home-hero-thumb-inner"),{yPercent:0,autoAlpha:1,duration:1.2,ease:"power2.out"},"<=.3").to(this.el.querySelector(".home-hero-sub-txt"),{yPercent:0,autoAlpha:1,duration:1,ease:"power2.out",onStart:()=>$(window).width()>991&&B.scrollBar.showUp(),onComplete:()=>{gsap.set(this.el.querySelector(".home-hero-sub"),{clearProps:"all"})}},"<=0")}setupEnter(e){this.tlEnter=gsap.timeline({paused:!0}),gsap.set(this.el.querySelector(".home-hero-title-decor"),{overflow:"hidden"}),gsap.set(this.el.querySelector(".home-hero-title-charc"),{overflow:"hidden"});let t=gsap.getProperty(this.el.querySelector(".home-hero-thumb"),"border-radius"),r=new SplitType(this.el.querySelector(".home-hero-sub-txt"),{types:"words,chars",lineClass:"lines",wordClass:"bp-word"});this.tlEnter.fromTo(this.el.querySelectorAll(".home-hero-title-charc-item"),{yPercent:80,autoAlpha:0},{yPercent:0,autoAlpha:1,ease:"expo.out",stagger:.04,duration:1,clearProps:"all",onComplete:()=>gsap.set(".home-hero-title-charc",{clearProps:"all"})}).fromTo(this.el.querySelector(".home-hero-title-decor-txt"),{yPercent:80,autoAlpha:0},{yPercent:0,autoAlpha:1,ease:"expo.out",duration:1,clearProps:"all"},"<=0.5").fromTo(this.el.querySelectorAll(".home-hero-title-decor-uline"),{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.6,clearProps:"transform"},"<=0.1").fromTo(this.el.querySelector(".home-hero-thumb"),{clipPath:`inset(20% round ${t}px)`},{clipPath:`inset(0% round ${t}px)`,duration:2,ease:"expo.out",clearProps:"all"},"<=0").fromTo(this.el.querySelector(".home-hero-thumb-inner"),{scale:1.4,autoAlpha:0},{scale:1,duration:2,autoAlpha:1,ease:"expo.out",clearProps:"all"},"<=0").fromTo(r.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015,onComplete:()=>r.revert(),onStart:()=>$(window).width()>991&&B.scrollBar.showUp()},"<=0"),c(this.el,"horizontal")||(this.tlTriggerEnter=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left right":"top bottom+=50% "}`,end:`${$(window).width()>991?"right left":"bottom top "}`,once:!0,onEnter:()=>{this.tlEnter.play()},onStart(){$("[data-init-hidden]").removeAttr("data-init-hidden")}}}))}playOnce(){this.tlHero.play()}playEnter(){c(this.el,"horizontal")&&this.tlEnter.play()}switchAnimType(){this.animType="trans"}parallax(e){let r=t(298);if($(window).width()>991){let i=gsap.timeline({scrollTrigger:{trigger:document.querySelector(".home-hero-wrap"),horizontal:!0,start:`left+=${$(window).width()} left`,triggerEnd:this.el,end:"right left",scrub:!0},defaults:{ease:"none"}});i.fromTo(this.el,{x:0},{x:r}).fromTo(this.el.querySelector(".home-hero-sub-inner"),{x:0},{x:-(1.5*r)},0).fromTo(this.el.querySelector(".home-hero-thumb"),{x:0},{x:-(1.2*r)},0).fromTo(this.el.querySelector(".home-hero-title-decor"),{x:0},{x:-(.4*r)},0),this.tlParallax.push(i),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:document.querySelector(".home-hero-wrap"),horizontal:!0,start:"left left",end:`left+=${$(window).width()} left`,scrub:!0},defaults:{ease:"none"}}).fromTo(".home-hero-wrap section",{x:r},{x:0}).fromTo(".home-hero-wrap .home-hero-sub-inner",{x:.75*r},{x:0},0).fromTo(".home-hero-wrap .home-hero-thumb",{x:.6*r},{x:0},0).fromTo(".home-hero-wrap .home-hero-title-decor",{x:.2*r},{x:0},0).fromTo(".home-hero-wrap .home-brand-main",{x:-.2*r},{x:0},0))}else this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:document.querySelector(".home-hero-wrap"),start:`top+=${$(window).height()} top`,triggerEnd:this.el,end:"bottom top",scrub:!0},defaults:{ease:"none"}}).fromTo(this.el,{y:0},{y:r})),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:document.querySelector(".home-hero-wrap"),start:"top top",end:`top+=${$(window).height()} top`,scrub:!0},defaults:{ease:"none"}}).fromTo(".home-hero-wrap section",{y:r},{y:0}))}destroy(){this.tlHero&&this.tlHero.kill(),this.tlTrigger&&this.tlTrigger.kill(),this.tlEnter&&this.tlEnter.kill(),this.tlTriggerEnter&&this.tlTriggerEnter.kill(),this.tlParallax&&this.tlParallax.forEach(e=>e.kill())}},Brand:class{constructor(){this.el=null,this.tlTrigger=null,this.allCards=null,this.tlScrub=null,this.tlReveal=null,this.tlEnter=null,this.tlOnce=null,this.tlParallax=[],this.animType="load"}setup(e){this.el=e.next.container.querySelector(".home-brand"),this.common(e),$(window).width()>991?this.desktop(e):this.mobile(e),"load"==this.animType?this.setupOnce(e):this.setupEnter(e)}setupOnce(e){gsap.set(this.el.querySelector(`.home-brand-${$(window).width()>991?"main":"sub"}-thumb-img`),{yPercent:100,autoAlpha:0}),this.tlOnce=gsap.timeline({paused:!0,onComplete:()=>{this.doubleTitle.play()}}).to(this.el.querySelector(`.home-brand-${$(window).width()>991?"main":"sub"}-thumb-img`),{yPercent:0,autoAlpha:1,stagger:.3,duration:1.2,ease:"power2.out"})}setupEnter(e){this.tlEnter=gsap.timeline({paused:!0}),this.tlEnter.fromTo(this.el.querySelector(".home-brand-main-thumb-img"),{yPercent:100},{yPercent:0,duration:2,ease:"power2.out",clearProps:"all"}).fromTo(this.el.querySelector(".home-brand-main-thumb-img .video-el"),{yPercent:-100},{yPercent:0,duration:2,ease:"power2.out",onStart:()=>{setTimeout(()=>{this.doubleTitle.play()},500)}},"<=0"),c(this.el,"horizontal")||(this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:$(window).width()>991,start:`${$(window).width()>991?`left-=${window.innerWidth} right`:`top-=${window.innerHeight} bottom+=50%`}`,end:`${$(window).width()>991?"right left":"bottom top "}`,once:!0,onEnter:()=>{this.tlEnter.play()}}}))}playOnce(){this.tlOnce.play()}playEnter(){c(this.el,"horizontal")&&this.tlEnter.play()}common(e){this.doubleTitle=new g.DoubleTitle(this.el.querySelector('[data-dou-text="wrapper"]'),!1,-40,5),this.tlReveal=gsap.timeline({scrollTrigger:{trigger:$(window).width()>991?this.el.querySelector(".home-brand-title.main-txt"):this.el.querySelector(".home-brand-sub-content"),horizontal:$(window).width()>991,start:$(window).width()>991?"right right-=30%":"top top+=85%",once:!0}}),o(this.el.querySelector(".home-brand-sub-txt"));let t=new SplitType(this.el.querySelector(".home-brand-sub-txt"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"});this.tlReveal.fromTo(t.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015,clearProps:"all",onComplete:()=>t.revert()}).fromTo(this.el.querySelectorAll(".home-brand-sub-link .main-btn"),{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:1,clearProps:"all"},"<=0.2")}desktop(e){this.cardScrub(e),this.cardReveal(e),this.animateHorizontal(e)}mobile(e){this.animateVertical(e),this.el.querySelector(".home-brand-cms").classList.add("swiper"),this.el.querySelector(".home-brand-list").classList.add("swiper-wrapper"),this.el.querySelectorAll(".home-brand-item").forEach(e=>e.classList.add("swiper-slide")),new Swiper(this.el.querySelector(".home-brand-cms"),{slidesPerView:"auto",spaceBetween:t(6),breakpoints:{768:{slidesPerView:1.7,spaceBetween:t(10)}}})}animateHorizontal(e){this.tlParallax.push(a({triggerEl:this.el.querySelector(".home-brand-main"),offset:{start:0,end:20},animEls:[{animEl:this.el.querySelector(".home-brand-main-inner"),offset:{start:0,end:20},isImage:!0},]})),this.tlParallax.push(a({triggerEl:this.el.querySelector(".home-brand-title.main-txt"),offset:{start:-50,end:-15},animEls:[{animEl:this.doubleTitle.getEls().main.lines[0],offset:{start:20,end:-10}},{animEl:this.doubleTitle.getEls().main.lines[1],offset:{start:20,end:-10}},{animEl:this.doubleTitle.getEls().main.lines[2],offset:{start:20,end:-10}},{animEl:this.doubleTitle.getEls().clone.lines[0],offset:{start:20,end:-10}},{animEl:this.doubleTitle.getEls().clone.lines[1],offset:{start:20,end:-10}},{animEl:this.doubleTitle.getEls().clone.lines[2],offset:{start:20,end:-10}},]})),this.tlParallax.push(a({triggerEl:this.el.querySelector(".home-brand-sub-thumb-img"),offset:{start:80,end:-10},animEls:[{animEl:this.el.querySelector(".home-brand-sub-thumb-img-inner"),offset:{start:80,end:-10},isImage:!0},]})),this.tlParallax.push(a({triggerEl:this.el.querySelector(".home-brand-sub-content.hidden-mb"),offset:{start:10,end:-14},animEls:[{animEl:this.el.querySelector(".home-brand-sub-content.hidden-mb"),offset:{start:10,end:-14}},]}))}animateVertical(e){new g.ScaleInset({el:this.el.querySelector(".home-brand-main [data-scroll-img]")}),767>=$(window).width()&&new g.ScaleInset({el:this.el.querySelector(".home-brand-sub [data-scroll-img]")}),gsap.set(this.el.querySelectorAll(".home-brand-item"),{x:50,autoAlpha:0}),gsap.to(this.el.querySelectorAll(".home-brand-item"),{scrollTrigger:{trigger:this.el.querySelector(".home-brand-detail"),start:"top top+=85%"},x:0,autoAlpha:1,duration:1,stagger:.04})}cardReveal(e){this.allCards.forEach((e,t)=>{gsap.set(e.querySelector(".home-brand-item-ic"),{scale:1.2,autoAlpha:0}),gsap.set(e.querySelector(".home-brand-item-title"),{autoAlpha:0}),gsap.set(e.querySelector(".home-brand-item-overlay"),{autoAlpha:0}),r(e.querySelector(".home-brand-item-desc"));let i=new SplitType(e.querySelector(".home-brand-item-desc"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"}),l=gsap.timeline({scrollTrigger:{trigger:e,horizontal:!0,start:"left right-=20%",once:!0},onComplete(){i.revert()}}),o=gsap.timeline({scrollTrigger:{trigger:e,horizontal:!0,start:"left right-=30%",end:"right+=10% left",scrub:!0}});l.to(e.querySelector(".home-brand-item-ic"),{scale:1,autoAlpha:1,duration:1,ease:"circ.inOut"}).to(e.querySelector(".home-brand-item-overlay"),{autoAlpha:1,duration:.6,clearProps:"all"},"<=0").fromTo(i.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.04,clearProps:"all"},"<=0.2").fromTo(e.querySelectorAll(".home-brand-item-ar path"),{"stroke-dashoffset":41},{"stroke-dashoffset":81,duration:.6,clearProps:"all"},"<=30%"),o.fromTo(e.querySelector(".home-brand-item-overlay-txt"),{xPercent:0,autoAlpha:1},{xPercent:15,autoAlpha:0,duration:1})})}cardScrub(e){$(".home-brand-cms").css({width:$(".home-brand-cms").width(),height:$(".home-brand-cms").height(),position:"relative",display:"flex"}),this.allCards=this.el.querySelectorAll(".home-brand-item"),this.allCards.forEach((e,t)=>{t!=this.allCards.length-1&&$(e).css("width","19.8rem")});let r=$(".home-brand-list").width();this.allCards.forEach((e,t)=>{$(e).css("width","auto")});let i=$(".home-brand-list").width();$(".home-brand-list").css({position:"sticky",left:t(298)}),this.tlScrub=gsap.timeline({scrollTrigger:{trigger:".home-brand-cms",horizontal:!0,start:`left left+=${t(298)}`,end:`left+=${i-r+t(298)} left+=${t(298)}`,scrub:!0},defaults:{ease:"none"}}),this.allCards.forEach((e,t)=>{t!=this.allCards.length-1&&this.tlScrub.to(e,{width:"19.8rem",ease:"none",duration:1}).fromTo($(e).find(".home-brand-item-ar"),{xPercent:0},{xPercent:-300,duration:.6},"<=0").fromTo($(e).find(".home-brand-item-bot"),{opacity:1,xPercent:0},{opacity:0,xPercent:4,duration:.6},"<=.2").fromTo($(e).find(".home-brand-item-title"),{autoAlpha:0},{autoAlpha:1,duration:.5},"<=.2")}),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-brand-cms"),horizontal:!0,start:`left+=${i-r+t(296)} left+=${t(296)}`,end:"right left",scrub:!0},defaults:{ease:"none"}}).fromTo(this.el.querySelector(".home-brand-list"),{x:0},{x:50}))}switchAnimType(){this.animType="trans"}destroy(){this.tlTrigger&&this.tlTrigger.kill(),this.tlScrub&&this.tlScrub.kill(),this.tlReveal&&this.tlReveal.kill(),this.tlOnce&&this.tlOnce.kill(),this.tlEnter&&this.tlEnter.kill(),this.tlParallax.length>0&&this.tlParallax.forEach(e=>e.kill())}},Voice:class{constructor(){this.el=null,this.tlTrigger=null,this.tlReveal=null,this.tlParallax=[]}setTrigger(e){this.el=e.next.container.querySelector(".home-voice"),this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left right":"top bottom+=50% "}`,end:`${$(window).width()>991?"right left":"bottom top "}`,once:!0,onEnter:()=>{this.setup(e)}}})}setup(e){$(window).width()>991?(this.animateHorizontal(e),this.scrub(e)):this.animateVertical(e),this.animateReveal(e)}animateReveal(e){new g.Title(this.el.querySelector(".home-voice-title")),o(this.el.querySelector(".home-voice-sub"));let t=new SplitType(this.el.querySelector(".home-voice-sub"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"}),r=gsap.getProperty(this.el.querySelector(".home-voice-thumb-inner"),"border-radius");this.tlReveal.fromTo(this.el.querySelector(".home-voice-line-hor"),{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:1.5,clearProps:"transform",onStart:()=>{gsap.set(".home-logo-line-hor",{scaleX:0,transformOrigin:"left"}),gsap.set(".home-logo-line-ver",{scaleY:0,transformOrigin:"top"}),gsap.set(this.el.querySelector(".home-voice-line-ver"),{scaleY:0,transformOrigin:"top"}),setTimeout(()=>{gsap.to(this.el.querySelector(".home-voice-line-ver"),{scaleY:1,duration:1.5,clearProps:"transform"})},800)},onComplete(){gsap.to(".home-logo-line-hor",{scaleX:1,duration:1.5,clearProps:"transform"}),gsap.to(".home-logo-line-ver",{scaleY:1,duration:1.5,clearProps:"transform"})}}).fromTo(t.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015,clearProps:"all",onComplete:()=>t.revert()},"<=.2").fromTo(this.el.querySelector(".home-voice-sub-link .main-btn"),{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:1,clearProps:"all"},"<=.2").fromTo(this.el.querySelector(".home-voice-thumb-inner"),{clipPath:`inset(20% round ${r}px)`},{clipPath:`inset(0% round ${r}px)`,duration:2,ease:"expo.out",clearProps:"all"},"<=0").fromTo(this.el.querySelector(".home-voice-thumb-video"),{scale:1.4,autoAlpha:0},{scale:1,duration:2,autoAlpha:1,ease:"expo.out",clearProps:"all"},"<=0")}animateHorizontal(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-voice-title"),horizontal:!0,start:"left-=20% right-=30%",once:!0}}),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-voice-title"),horizontal:!0,start:"left right",end:`left left+=${t(218)}`,scrub:!0},defaults:{ease:"none"}}).fromTo(this.el.querySelector(".home-voice-title"),{x:200},{x:0}).fromTo(this.el.querySelector(".home-voice-sub-wrap"),{x:200},{x:0},"<=0"))}animateVertical(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-voice-grid"),start:"top top+=80%",once:!0}})}scrub(e){o(e.next.container.querySelector(".home-logo")),this.tlScrub=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:!0,start:"left left",end:"right right",scrub:!0},defaults:{ease:"none"}}),this.tlScrub.fromTo(this.el.querySelector(".home-voice-grid"),{"padding-left":"21.8rem","grid-template-rows":"62fr 1px 38fr"},{"padding-left":"0rem","grid-template-rows":"29fr 1px 71fr"}).fromTo(this.el.querySelector(".home-voice-title-txt"),{"font-size":"14rem"},{"font-size":"7rem"},0)}destroy(){this.tlTrigger&&this.tlTrigger.kill(),this.tlScrub&&this.tlScrub.kill(),this.tlReveal&&this.tlReveal.kill(),this.tlParallax.length>0&&this.tlParallax.forEach(e=>e.kill())}},Logo:class{constructor(){this.el=null,this.tlTrigger=null,this.tlReveal=null,this.tlParallax=[]}setTrigger(e){this.el=e.next.container.querySelector(".home-logo"),this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left right":"top bottom+=50% "}`,end:`${$(window).width()>991?"right left":"bottom top "}`,once:!0,onEnter:()=>{this.setup(e)}}})}setup(e){$(window).width()>991?this.animateHorizontal(e):this.animateVertical(e),this.animateReveal(e)}animateReveal(e){this.fetchSvg(e),new g.Title(this.el.querySelector(".home-logo-title")),o(this.el.querySelector(".home-logo-sub"));let t=new SplitType(this.el.querySelector(".home-logo-sub"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"});this.tlReveal.fromTo(t.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015,clearProps:"all",onComplete:()=>t.revert()}).fromTo(this.el.querySelector(".home-logo-sub-link .main-btn"),{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:1,clearProps:"all"},"<=.2")}animateHorizontal(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-logo-sub-wrap"),horizontal:!0,start:"left-=20% right-=30%",once:!0}}),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-logo-grid"),horizontal:!0,start:"left right",end:"right left",scrub:1},defaults:{ease:"none"}}).fromTo(this.el.querySelector(".home-logo-title"),{x:300},{x:0}).fromTo(this.el.querySelector(".home-logo-sub-wrap"),{x:200},{x:-200},"<=0").fromTo(this.el.querySelectorAll(".home-logo-main-inner"),{scale:1.2,transformOrigin:"left"},{scale:1,ease:"power1.out"},"<=0").to(this.el.querySelectorAll(".home-logo-main-inner"),{scale:.8,transformOrigin:"center",ease:"power1.in"})),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-logo-grid"),horizontal:!0,start:"left+=3% right",end:"left+=3% left",scrub:1},defaults:{ease:"none"}}).fromTo(this.el.querySelectorAll(".home-logo-main-grid"),{scale:1.2,transformOrigin:"20%",autoAlpha:0},{scale:1,autoAlpha:1},"<=0"))}animateVertical(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-logo-text-wrap"),start:"top bottom-=30%",once:!0}})}fetchSvg(e){fetch(this.el.querySelector(".home-logo-main-img").getAttribute("src")).then(e=>{if(!e.ok)throw Error("Failed to fetch SVG");return e.text()}).then(e=>{let t=document.createElement("div");t.className="img-default fit abs home-logo-main-img",t.innerHTML=e,t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",this.el.querySelector(".home-logo-main-inner").appendChild(t),this.el.querySelector(".home-logo-main-inner img.home-logo-main-img").remove();let r=t.querySelector("svg");r&&(r.style.width="auto",r.style.height="100%");let i=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:!0,start:"left right-=30%",end:"right right"},defaults:{ease:"none"}}),l=this.el.querySelectorAll(".home-logo-main-line-hor"),o=this.el.querySelectorAll(".home-logo-main-line-ver"),s=document.querySelector(".home-logo-main").querySelectorAll(".path-logo path"),a=document.querySelector(".home-logo-main").querySelectorAll(".path-text path"),n=document.querySelector(".home-logo-main").querySelectorAll(".path-dot rect");gsap.set([...s,...a],{"stroke-dashoffset":"var(--prog)","stroke-dasharray":"1px","fill-opacity":0}),gsap.set(n,{transformOrigin:"center center"}),gsap.set(this.el.querySelector(".circle circle"),{"stroke-dashoffset":"var(--prog)","stroke-dasharray":"1px"}),i.fromTo(this.el.querySelector(".circle circle"),{"--prog":1},{"--prog":0,duration:3},0).fromTo(l,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:3},0).fromTo(o,{scaleY:0,transformOrigin:"top"},{scaleY:1,duration:3},0).fromTo([...s],{"--prog":1},{"--prog":0,duration:1},"<=0").fromTo([...a],{"--prog":1},{"--prog":0,duration:2},">=0").fromTo(n,{scale:0},{scale:1,"fill-opacity":1,duration:2},"<=0").fromTo([...s,...a],{"fill-opacity":0},{"fill-opacity":.15,duration:1},">=0")}).catch(e=>{console.error("Error fetching SVG:",e)})}destroy(){this.tlTrigger&&this.tlTrigger.kill(),this.tlReveal&&this.tlReveal.kill(),this.tlParallax.length>0&&this.tlParallax.forEach(e=>e.kill())}},Typo:class{constructor(){this.el=null,this.tlTrigger=null,this.tlReveal1=null,this.tlReveal2=null,this.tlParallax=[],this.doubleTitle=null}setTrigger(e){this.el=e.next.container.querySelector(".home-typo"),this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left right":"top bottom+=50% "}`,end:`${$(window).width()>991?"right left":"bottom top "}`,once:!0,onEnter:()=>{this.setup(e)}}})}setup(e){this.doubleTitle=new g.DoubleTitle(this.el.querySelector('[data-dou-text="wrapper"]'),!1,-50,-20),this.doubleTitle.setTrigger(),$(window).width()>991?this.animateHorizontal(e):this.animateVertical(e),this.animateReveal(e)}animateReveal(e){new g.Title(this.el.querySelector(".home-typo-sub-title")),o(this.el.querySelector(".home-typo-sub-desc"));let t=new SplitType(this.el.querySelector(".home-typo-sub-desc"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"});this.tlReveal1.fromTo(this.el.querySelector(".home-typo-sub-title-decor"),{autoAlpha:0,y:30},{autoAlpha:1,y:0,duration:1,clearProps:"opacity, transform"},.2).fromTo(t.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015,clearProps:"all",onComplete:()=>t.revert()},"<=.1").fromTo(this.el.querySelector(".home-typo-sub-desc-link .main-btn"),{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:1,stagger:.015,clearProps:"all"},"<=0.2"),this.tlReveal2.fromTo(".home-typo-detail-decor",{autoAlpha:0,y:30},{autoAlpha:1,y:0,duration:1,clearProps:"opacity, transform"}).fromTo(this.el.querySelector(".home-typo-detail-list-decor"),{autoAlpha:0,x:-30},{autoAlpha:1,x:0,duration:1,clearProps:"opacity, transform"})}animateHorizontal(e){this.tlReveal1=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-sub"),horizontal:!0,start:"left-=30% right-=30%",once:!0}}),this.tlReveal2=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-detail"),horizontal:!0,start:"left-=30% right-=30%",once:!0}}),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-main"),horizontal:!0,start:"left right",end:"right left",scrub:!0},defaults:{ease:"none"}}).fromTo(".home-logo-grid",{x:0},{x:150})),this.tlParallax.push(a({triggerEl:this.el.querySelector(".home-typo-main"),offset:{start:0,end:-20},animEls:[{animEl:this.el.querySelector(".home-typo-main-thumb"),offset:{start:0,end:-20},isImage:!0},]})),this.tlParallax.push(a({triggerEl:this.el.querySelector(".home-typo-title.main-txt"),offset:{start:-50,end:-15},animEls:[{animEl:this.doubleTitle.getEls().main.lines[0],offset:{start:-50,end:-20}},{animEl:this.doubleTitle.getEls().clone.lines[0],offset:{start:-50,end:-20}},]})),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-sub-title"),horizontal:!0,start:"left right",end:"right left",scrub:!0},defaults:{ease:"none"}}).fromTo(this.el.querySelector(".home-typo-sub-title-main"),{x:-200},{x:50},"<=0").fromTo(this.el.querySelector(".home-typo-sub-title-decor"),{x:-50},{x:-180},"<=0").fromTo(this.el.querySelector(".home-typo-sub-desc-wrap"),{x:-200},{x:100},"<=0"));let t=[{start:20,end:-10},{start:-50,end:60},{start:-80,end:-45},{start:-30,end:-19},];this.el.querySelectorAll(".home-typo-detail-item").forEach((e,r)=>{this.tlParallax.push(a({triggerEl:e,offset:t[r],animEls:[{animEl:e.querySelector(".home-typo-detail-item-inner"),offset:t[r],isImage:!0},]}))}),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-detail"),horizontal:!0,start:"left right",end:"right left",scrub:!0},defaults:{ease:"none"}}).fromTo(".home-typo-detail-decor",{xPercent:-10},{xPercent:30}).fromTo(".home-typo-detail-list-decor",{xPercent:-10},{xPercent:-80},"<=0"))}animateVertical(e){this.tlReveal1=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-sub-desc-wrap"),start:"top top+=80%",once:!0}}),this.tlReveal2=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-detail"),start:"top top+=80%",once:!0}}),this.tlReveal3=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-typo-main-thumb"),start:"top top+=85%",once:!0},onComplete:()=>{this.doubleTitle.play()}});let t=gsap.getProperty(this.el.querySelector(".home-typo-main-thumb-inner"),"border-radius");this.tlReveal3.fromTo(this.el.querySelector(".home-typo-main-thumb-inner"),{clipPath:`inset(20% round ${t}px)`},{clipPath:`inset(0% round ${t}px)`,duration:2,ease:"expo.out",clearProps:"all"}).fromTo(this.el.querySelector(".home-typo-main-thumb-inner img"),{scale:1.4,autoAlpha:0},{scale:1,duration:2,autoAlpha:1,ease:"expo.out",clearProps:"all"},"<=0"),this.el.querySelectorAll("[data-scroll-img]").forEach((e,t)=>new g.ScaleInset({el:e}))}destroy(){this.tlTrigger&&this.tlTrigger.kill(),this.tlReveal1&&this.tlReveal1.kill(),this.tlReveal2&&this.tlReveal2.kill(),this.tlParallax.length>0&&this.tlParallax.forEach(e=>e.kill())}},Photo:class{constructor(){this.el=null,this.tlTrigger=null,this.tlReveal=null,this.tlParallax=[]}setTrigger(e){this.el=e.next.container.querySelector(".home-photo"),this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left right":"top bottom+=50% "}`,end:`${$(window).width()>991?"right left":"bottom top "}`,once:!0,onEnter:()=>{this.setup(e)}}})}setup(e){this.effect(e),$(window).width()>991?this.desktop(e):this.mobile(e),this.animateReveal(e)}animateReveal(e){new g.Title(this.el.querySelector(".home-photo-title")),o(this.el.querySelector(".home-photo-sub"));let t=new SplitType(this.el.querySelector(".home-photo-sub"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"});this.tlReveal.fromTo(t.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015,clearProps:"all",onComplete(){t.revert()}}).fromTo(this.el.querySelector(".home-photo-sub-link .main-btn"),{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:1,clearProps:"all"},"<=.2")}desktop(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-photo-sub"),horizontal:!0,start:"left-=30% right-=30%",once:!0}}),this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:!0,start:"left right",end:"right left",scrub:!0},defaults:{ease:"none"}}).fromTo(this.el.querySelector(".home-photo-title"),{x:-200},{x:120}).fromTo(this.el.querySelector(".home-photo-sub-wrap"),{x:-350},{x:250},"<=0").fromTo(this.el.querySelector(".home-photo-gallery-wrap"),{x:-300},{x:100},"<=0"))}mobile(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-photo-sub-wrap"),start:"top top+=85%",once:!0}})}effect(){$(window).width()>991?(this.imagesTrail=new f(this.el.querySelector(".home-photo-trail-wrap")),this.imagesGallery=new b(this.el.querySelector(".home-photo-gallery-wrap"))):([,,].fill().forEach(()=>{let e=$(".home-photo-gallery-list").clone();$(".home-photo-gallery-cms").append(e)}),$(".home-photo-gallery-list").addClass("anim-marquee"))}destroy(){this.tlTrigger&&this.tlTrigger.kill(),this.tlReveal&&this.tlReveal.kill(),this.tlScrub&&this.tlScrub.kill(),this.imagesTrail&&this.imagesTrail.destroy(),this.imagesGallery&&this.imagesGallery.destroy(),this.tlParallax.length>0&&this.tlParallax.forEach(e=>e.kill())}},Color:class{constructor(){this.el=null,this.tlTrigger=null,this.tlReveal=null,this.tlParallax=[]}setTrigger(e){this.el=e.next.container.querySelector(".home-color-wrap"),this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:$(window).width()>991,start:`${$(window).width()>991?"left right":"top bottom+=50% "}`,end:`${$(window).width()>991?"right left":"bottom top "}`,once:!0,onEnter:()=>{this.setup(e)}}})}setup(e){$(window).width()>991?this.animateHorizontal(e):this.animateVertical(e),this.animateReveal(e)}animateReveal(e){new g.Title(this.el.querySelector(".home-color-title")),o(this.el.querySelector(".home-color-sub"));let t=new SplitType(this.el.querySelector(".home-color-sub"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"});this.tlReveal.fromTo(t.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015,clearProps:"all",onComplete:()=>t.revert()}).fromTo(this.el.querySelector(".home-color-sub-link .main-btn"),{scale:1.2,autoAlpha:0},{scale:1,autoAlpha:1,duration:1,clearProps:"all"},"<=.2")}animateHorizontal(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-color-sub"),horizontal:!0,start:"left-=30% right-=30%",once:!0}});let r=t(298);this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el,horizontal:!0,start:"left left",end:"right right",scrub:!0},defaults:{ease:"none"}}).to(".home-color-title",{x:-.8*r}).to(".home-color-sub-wrap",{x:-1.2*r},0))}animateVertical(e){this.tlReveal=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".home-color-sub-wrap"),start:"top top+=80%",once:!0}});let r=t(100);this.tlParallax.push(gsap.timeline({scrollTrigger:{trigger:this.el,start:"top top",end:"bottom bottom",scrub:!0},defaults:{ease:"none"}}).to(".home-color-title",{y:-1.1*r}).to(".home-color-sub-wrap",{y:-.9*r},0))}destroy(){this.tlTrigger&&this.tlTrigger.kill(),this.tlReveal&&this.tlReveal.kill(),this.tlScrub&&this.tlScrub.kill(),this.tlParallax.length>0&&this.tlParallax.forEach(e=>e.kill())}},TransColor:class{constructor(){this.el=null,this.tlTrigger=null,this.columnData=[{value:28.37},{value:40.85},{value:10},{value:32.23},{value:13.79},{value:5.99}]}setup(e){p.lenis.resize(),this.originWidth=$(window).width()>991?1.5*window.innerWidth+.09*window.innerHeight:1.5*window.innerHeight+.09*window.innerWidth;let t=$(window).width()>991;["head","tail"].forEach(r=>{let i="head"===r,l=e.next.container.querySelector(`.home-trans-wrap.${r}`),o=gsap.timeline({scrollTrigger:{trigger:l,horizontal:t,start:i?t?"left left":"top top":t?"left right":"top bottom",end:i?t?`left+=${window.innerWidth+.09*window.innerHeight} left`:`top+=${window.innerHeight+.09*window.innerWidth} top`:t?`left+=${window.innerWidth+.09*window.innerHeight} right`:`top+=${window.innerHeight+.09*window.innerWidth} bottom`,scrub:!0},defaults:{ease:"none"}});this.columnData.forEach((e,l)=>{let s=i?this.columnData.length-l-1:l,a=$(`.home-trans-wrap.${r} .home-trans-col`).eq(s);o.to(a,{keyframes:{"0%":{[t?"x":"y"]:i?`${e.value*(t?window.innerWidth:window.innerHeight)*.01}`:`${e.value*this.originWidth*0}`,[t?"width":"height"]:i?`${this.originWidth+e.value*(t?window.innerWidth:window.innerHeight)*.01}`:`${this.originWidth+e.value*this.originWidth*0}`},"100%":{[t?"x":"y"]:i?`${e.value*(t?window.innerWidth:window.innerHeight)*0}`:`${-(e.value*this.originWidth*.01)}`,[t?"width":"height"]:i?`${this.originWidth+e.value*(t?window.innerWidth:window.innerHeight)*0}`:`${this.originWidth+e.value*this.originWidth*.01}`}}},0)}),i?this.tlScrubHead=o:this.tlScrubTail=o}),e.next.container.querySelectorAll(".home-trans-wrap.tail .home-trans-col").forEach((e,t)=>{e.addEventListener("click",this.copyTextToClipboard.bind(this))})}copyTextToClipboard(e){e.preventDefault();let t=e.target.querySelector(".home-trans-col-val").innerText,r=document.createElement("textarea");r.style.display="none",r.value=t,document.body.appendChild(r),r.select(),navigator.clipboard.writeText(t).then(()=>{console.log("Text copied to clipboard")}).catch(e=>{console.error("Failed to copy text to clipboard:",e)}),document.body.removeChild(r),e.target.classList.add("copied"),setTimeout(()=>{e.target.classList.remove("copied")},2e3)}destroy(){this.tlTrigger&&this.tlTrigger.kill(),this.tlScrubTail&&this.tlScrubTail.kill(),this.tlScrubHead&&this.tlScrubHead.kill()}},Background:class{constructor(){this.allSections=null}setup(e){this.allSections=e.next.container.querySelectorAll("section"),this.allSections.forEach((e,t)=>{gsap.set(e,{"--section-main-bg":$(e).css("--_theme---main-bg"),"--section-sub-bg":$(e).css("--_theme---sub-bg"),"--section-title":$(e).css("--_theme---title"),"--section-scrollbar":$(e).css("--_theme---scrollbar"),"--section-decor":$(e).css("--_theme---decor"),"--section-border":$(e).css("--_theme---border"),"--_theme---main-bg":"revert","--_theme---sub-bg":"revert","--_theme---title":"revert","--_theme---scrollbar":"revert","--_theme---decor":"revert","--_theme---border":"revert"})}),this.updateOnScroll(),this.updateBackground(),p.lenis.on("scroll",this.updateOnScroll.bind(this))}updateOnScroll(e){if(this.allSections){let t=Array.from(this.allSections).reduce((e,t)=>{let r=t.getBoundingClientRect(),i=Math.min(r.bottom,window.innerHeight)-Math.max(r.top,0),l=Math.min(r.right,window.innerWidth)-Math.max(r.left,0),o=Math.max(0,i)*Math.max(0,l);return!e||o>e.visibleArea?{section:t,visibleArea:o}:e},null);t&&this.currentSection!==t.section&&(this.currentSection=t.section,this.updateBackground())}}updateBackground(){let e={"--_theme---main-bg":$(this.currentSection).css("--section-main-bg"),"--_theme---sub-bg":$(this.currentSection).css("--section-sub-bg"),"--_theme---title":$(this.currentSection).css("--section-title"),"--_theme---decor":$(this.currentSection).css("--section-decor"),"--_theme---border":$(this.currentSection).css("--section-border"),"--_theme---scrollbar":$(this.currentSection).css("--section-scrollbar")};gsap.to("body",e)}destroy(){this.allSections=null,this.currentSection=null,this.tlScrub=null}},ScrollBar:class{constructor(){if(991>$(window).width())return;this.el=null,this.ruler=null,this.tlScrub=null,this.tlReveal=null,this.sections=[],this.widths=[],this.totalWidth=0,this.rulerWidth=0,this.rulerScuber=null,this.ratios=[],this.currIndex=0,this.prevIndex=0}setup(e){!(991>$(window).width())&&(this.el=e.next.container.querySelector(".home-ruler"),this.el&&(this.rulerScuber=this.el.querySelector(".home-ruler-progress"),this.setupParams(e),this.setupRuler(e),this.setTl(e),this.tlReveal=gsap.timeline({paused:!0}).fromTo(this.el,{autoAlpha:0,yPercent:100},{autoAlpha:1,yPercent:0,duration:1})))}setupParams(e){this.ruler=this.el.querySelector(".home-ruler-inner"),this.rulerWidth=this.ruler.getBoundingClientRect().width,this.sections=Array.from(e.next.container.querySelectorAll("[data-sc-name]")),this.sections.forEach((e,t)=>{let r=e.getAttribute("data-sc-name");this.sections[t-1]?.getAttribute("data-sc-name");let i=e.getBoundingClientRect().width;e.setAttribute("id",r.toLowerCase().replace(/[^a-z0-9]+/g,"-")),this.widths.push(i),this.totalWidth+=i})}setupRuler(e){let t=this.el.querySelector(".home-ruler-main-item").cloneNode(!0);t.querySelector(".home-ruler-main-item-txt").innerText="";let r=this.el.querySelector(".home-ruler-main");r.innerHTML="";let i=this.rulerWidth/Math.floor(this.rulerWidth/10),l=Math.floor(this.rulerWidth/i);this.ratios=this.widths.map(e=>e/this.totalWidth);let o=this.ratios.map(e=>Math.round(e*l)),s=o.reduce((e,t)=>e+t,0),a=0;for(;s!==l;){let n=o.indexOf(Math.max(...o));if(o[n]+=s<l?1:-1,s=o.reduce((e,t)=>e+t,0),++a>1e3){console.warn("Breaking out of loop to prevent infinite iteration.");break}}o.forEach((e,l)=>{let s=t.cloneNode(!0),a=this.sections[l].getAttribute("data-sc-name");s.querySelector(".home-ruler-main-item-txt").innerText=a,s.querySelector("a").setAttribute("href",`#${this.sections[l].id}`),(0===l||l===o.length-1)&&(s.querySelector(".home-ruler-main-item-line-head").remove(),s.querySelector(".home-ruler-main-item-txt").remove()),s.style.flexBasis=`${e*i}%`,r.appendChild(s)}),gsap.set(".home-ruler-main-item-line",{"--ruler-gap":i-1})}setTl(e){let t=(e,t)=>{for(let r=0;r<t.length-1;r++){let i=t[r],l=t[r+1];if(e>=i&&e<l){this.currIndex=r-1,this.el.querySelectorAll(".home-ruler-main-item-txt").forEach((e,t)=>{e.parentElement.classList.toggle("active",t===this.currIndex)});break}}},r=this.ratios[this.ratios.length-2]+this.ratios[this.ratios.length-1];this.ratios.splice(this.ratios.length-2,2,r);let i=this.ratios.reduce((e,t,r)=>{let i=0===r?0:e[e.length-1];return e.push(i+t),e},[0]);this.tlScrub=gsap.timeline({scrollTrigger:{trigger:e.next.container.querySelector(".main-content"),horizontal:!0,start:"left-=2px left",end:"right right",scrub:!0,onUpdate(e){t(e.progress,i)}},defaults:{ease:"none"}});let l=this.rulerWidth-this.rulerScuber.clientWidth;this.widths[0],this.totalWidth,this.tlScrub.fromTo(".home-ruler-progress",{x:0*l},{x:1*l,duration:1}),this.el.querySelectorAll(".home-ruler-main-item a").forEach((e,t)=>{let r=i[t+1]+.01,l=e.getAttribute("href");e.addEventListener("click",e=>this.scrollToID({href:l,index:t,timeline:this.tlScrub,progress:r}))})}showUp(e){991>$(window).width()||this.tlReveal.play()}scrollToID({href:e,index:t,timeline:r,progress:i}){this.prevIndex=this.currIndex;let l=0===t;this.prevIndex,this.el.querySelectorAll(".home-ruler-main-item a").length;let o=l&&l?(r.scrollTrigger.end-r.scrollTrigger.start)*(1+i):e;p.lenis.scrollTo(o,{force:!0,duration:1.2,onComplete:()=>{t!==this.currIndex&&this.el.querySelectorAll(".home-ruler-main-item-txt").forEach((e,r)=>{e.parentElement.classList.toggle("active",r===t)})}}),barba.history.add(`${window.location.pathname+e}`,"barba","replace")}destroy(){991>$(window).width()||(this.tlScrub&&this.tlScrub.kill(),this.el=null,this.ruler=null,this.sections=[],this.widths=[],this.totalWidth=0,this.rulerWidth=0)}}},k={Hero:class{constructor(){this.el=null,this.tl=null}setup(e){this.el=e.next.container.querySelector(".detail-wrap");let t=new SplitType(this.el.querySelector(".detail-hero-title"),{types:"lines, words, chars",lineClass:"bp-line",wordClass:"bp-word"}),r=new SplitType(this.el.querySelector(".detail-hero-sub"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"});this.tl=gsap.timeline({paused:!0,onStart:()=>T.play(),onComplete(){t.revert(),r.revert()}});let i=gsap.getProperty(this.el.querySelector(".detail-thumb .detail-main-img-inner"),"border-radius");this.tl.fromTo(t.chars,{yPercent:100,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.8,stagger:.02},"<=0").fromTo(r.words,{yPercent:60,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:1,stagger:.015},"<=.2").fromTo(this.el.querySelector(".detail-thumb .detail-main-img-inner"),{clipPath:`inset(20% round ${i}px)`},{clipPath:`inset(0% round ${i}px)`,duration:2,ease:"expo.out",clearProps:"all"},"<=.3").fromTo(this.el.querySelector(".detail-thumb img"),{scale:1.4,autoAlpha:0},{scale:1,duration:2,autoAlpha:1,ease:"expo.out",clearProps:"all"},"<=0")}play(){this.tl.play(),I.toc.playAnimReveal()}destroy(){}},TOC:class{constructor(){this.el=null,this.currentTOC=null,this.tlRevealHeroToc=null,this.tocItems=null,this.contentSections=null}setup(e){this.el=e.next.container.querySelector(".detail-wrap"),this.setupHtml(e),this.setupAnimReveal(),window.innerWidth>767?this.desktop(e):this.mobile(e)}desktop(e){this.toggleTOC(),this.subTocs=this.el.querySelectorAll(".detail-toc-main-item"),this.subTocHead=this.el.querySelector(".detail-toc-main-title-wrap"),this.subTocPrgess=this.el.querySelectorAll(".detail-toc-main-item-progress"),this.subTocPercent=this.el.querySelectorAll(".detail-toc-main-item-progress-inner"),this.rulerRequestId=requestAnimationFrame(this.scrollDesktopHandler.bind(this)),gsap.ticker.add(this.scrollDesktopHandler.bind(this)),this.drawRuler(e)}setupHtml(e){this.contentSections=this.el.querySelectorAll('[data-toc="content"]');let t=this.el.querySelector(".detail-hero-toc-main"),r=this.el.querySelector(".detail-toc-main-list"),i=this.el.querySelector(".detail-toc-item").cloneNode(!0),l=this.el.querySelector(".detail-toc-main-item").cloneNode(!0);t.innerHTML="",r.innerHTML="",this.contentSections.forEach(e=>{let o=e.querySelector("h2.hidden").textContent,s=o.toLowerCase().replace(/[^a-z0-9]+/g,"-");e.setAttribute("data-toc-id",s);let a=i.cloneNode(!0);a.querySelector(".txt").textContent=o,a.querySelector("a").setAttribute("href",`#${s}`),a.querySelector("a").addEventListener("click",e=>this.scrollToID(e)),t.append(a);let n=l.cloneNode(!0);n.querySelector(".txt").textContent=o,n.querySelector("a").setAttribute("href",`#${s}`),n.querySelector("a").addEventListener("click",e=>{this.scrollToID(e)}),r.append(n);let h=document.createElement("div");h.classList.add("detail-toc-main-item-progress"),h.style.opacity=1,h.style.pointerEvents="none",h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.top="calc(50%)",h.style.background="rgba(0,0,100,.25)";let c=document.createElement("div");c.classList.add("detail-toc-main-item-progress-inner"),c.style.width="100%",c.style.height="100%",c.style.background="rgba(0,0,100,.25)",h.style.opacity=0,c.style.opacity=0,h.appendChild(c),n.querySelector(".detail-toc-main-item-main").appendChild(h)})}setupAnimReveal(){this.tlRevealHeroToc=gsap.timeline({paused:!0}),this.tlRevealHeroToc.fromTo(this.el.querySelectorAll(".detail-toc-item"),{y:30,opacity:0},{y:0,opacity:1,duration:1,delay:1.2,stagger:.05,ease:"power1.out",clearProps:"all"})}playAnimReveal(){this.tlRevealHeroToc.play()}drawRuler(e){this.ratio={value:0},this.rulerEl=this.el.querySelector(".detail-ruler-inner"),this.canvas=document.createElement("canvas"),this.canvas.classList.add("detail-ruler-canvas"),this.canvas.style.position="absolute",this.canvas.style.top=0,this.canvas.style.right=0,this.canvas.style.width="100%",this.canvas.style.height="100%",this.rulerEl.appendChild(this.canvas),this.rulerEl.style.background="none",this.ctx=this.canvas.getContext("2d"),this.drawRaf=requestAnimationFrame(this.draw.bind(this))}draw(e){let r=this.canvas.parentElement,i=r.offsetWidth,l=r.offsetHeight,o=window.devicePixelRatio||1;this.canvas.width=i*o,this.canvas.height=l*o,this.ctx.scale(o,o);let s=t(1),a=t(9),n=s+a,h=t(10),c=t(42),u=t(10),d=n/2;this.ctx.clearRect(0,0,i,l),this.ctx.strokeStyle="rgba(86, 122, 139, 0.40)",this.ctx.lineWidth=s;let m=Array.from(document.querySelectorAll(".detail-toc-main-title-wrap, .detail-toc-main-item")).map((e,r)=>{let i=0===r?e.querySelector("*").getBoundingClientRect().height/2:t(21);return e.querySelector("*").getBoundingClientRect().top+i});for(let p=0;p<=l;p+=n){let g=1;m.forEach(e=>{let t=Math.abs(p-e);t<d?g*=1+3.2*this.ratio.value:g*=1*this.ratio.value});let y=Math.max(u,Math.min(c,h*g));this.ctx.beginPath(),this.ctx.moveTo(i,p),this.ctx.lineTo(i-y,p),this.ctx.stroke()}requestAnimationFrame(this.draw.bind(this))}scrollDesktopHandler(e){if(this.contentSections&&0!=this.contentSections.length){this.contentSections.forEach((e,r)=>{let i=e.getBoundingClientRect(),l=this.subTocs[r].getBoundingClientRect(),o=e.querySelector(".detail-sec-space").getBoundingClientRect().height,s=-((i.top-window.innerHeight)/i.height*100),a=gsap.utils.clamp(0,100,s),n=i.top-l.top+o-.5*l.height,h=$(".detail-toc-main").outerHeight()-$(".detail-toc-main-title-wrap").height()-$(".detail-toc-main-list").height()-t(120),u=gsap.utils.clamp(-1*h,0,n);this.subTocs[r].querySelector(".detail-toc-main-item-inner").style.transform=`translateY(${u}px)`;let d=r!==this.contentSections.length-1,m=Math.abs((d?this.subTocs[r+1].querySelector(".detail-toc-main-item-inner").getBoundingClientRect().top:window.innerHeight-t(40))-this.subTocs[r].querySelector(".detail-toc-main-item-inner").getBoundingClientRect().top-(d?l.height/2:0)+(d?this.subTocs[r+1].getBoundingClientRect().height/2:0));this.subTocPrgess[r].style.height=`${m}px`,this.subTocPercent[r].style.height=`${a/100*m}px`,c(e,"vertical")?this.subTocs[r].classList.add("active"):this.subTocs[r].classList.remove("active")});let r=this.el.querySelector(".detail-thumb").getBoundingClientRect(),i=this.el.querySelector(".detail-toc-main-title-wrap").getBoundingClientRect(),l=r.top-i.top-.5*i.height,o=$(".detail-toc-main").outerHeight()-$(".detail-toc-main-title-wrap").height()-$(".detail-toc-main-list").height()-t(120),s=gsap.utils.clamp(-1*o,0,l);this.el.querySelector(".detail-toc-main-title-wrap").querySelector(".detail-toc-main-title-inner").style.transform=`translateY(${s}px)`}}demo(){this.el.querySelector(".detail-toc-main-list").prepend(this.el.querySelector(".detail-toc-main-title-wrap")),$(this.el.querySelector(".detail-toc-main-list")).css({height:"100%"});let e=this.el.querySelectorAll(".detail-toc-main-title-wrap, .detail-toc-main-item"),t=this.el.querySelectorAll('.detail-thumb, [data-toc="content"]'),r=this.el.querySelector(".detail-thumb").getBoundingClientRect().height+this.el.querySelector(".detail-main").getBoundingClientRect().height;e.forEach((e,i)=>{let l=t[i].getBoundingClientRect().height/r*100;$(e).css({"flex-grow":"1","flex-basis":`${l}%`})})}mobile(e){$(".detail-toc-main-list").attr("data-lenis-prevent",""),p.lenis.on("scroll",()=>this.scrollMobileHandler.bind(this)(e));let t=$(".header").outerHeight()-.5;gsap.set(".detail-toc",{top:t,opacity:0,height:$(window).height()-t});gsap.timeline({scrollTrigger:{trigger:e.next.container.querySelector(".main-content"),start:"top top",end:"bottom bottom",scrub:!0}}).fromTo(".detail-toc-main-prog-inner",{scaleX:0,transformOrigin:"left"},{scaleX:1,ease:"none"}),$(".detail-toc-main-curr").on("click",e=>{e.preventDefault(),$(".detail-toc-main-list").toggleClass("active"),requestAnimationFrame(()=>{$(".detail-toc-main-list").hasClass("active")&&$(".detail-toc-main-list").animate({scrollTop:$(".detail-toc-main-item.active").position().top-5},300,"lenisEase")})}),$(window).on("click",e=>{$(".detail-toc-main-curr:hover").length||$(".detail-toc-main-list").removeClass("active")})}scrollMobileHandler(e){this.el.querySelectorAll('[data-toc="content"]').forEach((e,t)=>{let r=e.dataset.tocId,i=e.getBoundingClientRect();if(i.top>0&&i.top<$(window).height()/5){if(this.currentTOC===r)return;this.currentTOC=r;let l=this.el.querySelector(`.detail-toc-main-item .detail-toc-main-item-main[href="#${this.currentTOC}"]`);l.parentElement.classList.add("active");let o=this.el.querySelectorAll(`.detail-toc-main-item:not(:has(.detail-toc-main-item-main[href="#${this.currentTOC}"]))`);o.forEach(e=>e.classList.remove("active")),this.el.querySelector(".detail-toc-main-curr-title").innerHTML=l.textContent,this.el.querySelector(".detail-toc-main-curr-num").innerHTML=(t+1).toString().padStart(3,"0")}0===t&&(i.top<=$(".header").outerHeight()+$(".detail-toc-main-inner").outerHeight()+100?gsap.to(".detail-toc",{opacity:1}):(gsap.to(".detail-toc",{opacity:0}),$(".detail-toc-main-list").removeClass("active")))})}scrollToID(e){e.preventDefault();let t=$(e.target).attr("href");return p.lenis.scrollTo(`[data-toc-id=${t.slice(1)}]`,{offset:-100,force:!0}),barba.history.add(`${window.location.pathname+t}`,"barba","replace"),!1}toggleTOC(){this.tlTocProg=gsap.timeline({scrollTrigger:{trigger:this.el.querySelector(".detail-thumb"),start:`top-=${t(100)} top`,endTrigger:this.el.querySelector(".detail-next"),end:"top bottom",scrub:!0}}),this.tlTocProg.fromTo(this.el.querySelector(".detail-ruler-progress"),{y:t(120)},{ease:"none",y:()=>{if(null===this.el)return 0;{let e=this.el.querySelector(".detail-ruler-inner").getBoundingClientRect().height,r=this.el.querySelector(".detail-ruler-progress").getBoundingClientRect().height+t(40);return e-r}}}),new SplitType(this.el.querySelector(".detail-toc-main-title"),{types:"lines, words",lineClass:"bp-line",wordClass:"bp-word"}),this.el.querySelectorAll(".detail-toc-main-item-txt").forEach(e=>{new SplitType(e,{types:"lines, words",lineClass:"bp-line",wordClass:"bp-word"}).lines.forEach(e=>{e.querySelectorAll(".bp-word").forEach((e,t)=>{gsap.set(e,{"--trans-delay":`${(t+1)*.05}s`})})})}),this.triggerTOC.bind(this)(),p.lenis.on("scroll",this.triggerTOC.bind(this))}triggerTOC(){$(".detail-thumb").get(0).getBoundingClientRect().top<t(100)&&this.el.querySelector(".detail-next").getBoundingClientRect().top>window.innerHeight?this.openTOC():this.closeTOC()}openTOC(){this.isTOCOpened||(this.isTOCOpened=!0,this.el.querySelector(".detail-ruler-progress").classList.add("active"),this.ratio&&gsap.to(this.ratio,{value:1,duration:1,ease:"power1.out",overwrite:!0}),this.el.querySelector(".detail-toc").classList.add("active"))}closeTOC(){this.isTOCOpened&&(this.isTOCOpened=!1,this.el.querySelector(".detail-ruler-progress").classList.remove("active"),this.ratio&&gsap.to(this.ratio,{value:0,duration:1,ease:"power1.out",overwrite:!0}),this.el.querySelector(".detail-toc").classList.remove("active"))}destroy(){this.rulerRequestId&&cancelAnimationFrame(this.rulerRequestId),this.drawRaf&&cancelAnimationFrame(this.drawRaf),this.el=null,this.currentTOC=null,this.tlRevealHeroToc=null,this.tocItems=null,this.contentSections=null,this.rulerEl=null}},Main:class{constructor(){this.el=null,this.tlTrigger=null}setTrigger(e){this.el=e.next.container.querySelector(".detail-main"),this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,start:"top bottom+=50%",end:"bottom top",once:!0,onEnter:()=>this.setup(e)}})}setup(e){this.el.querySelectorAll('[data-toc="content"]').forEach((e,t)=>{gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom+=50%",end:"bottom top",once:!0,onEnter:()=>{this.animate(e)}}})}),this.el.querySelectorAll(".detail-main-prompt-copy").forEach((e,t)=>{e.addEventListener("click",this.copyTextToClipboard.bind(this))})}animate(e){let t={fadeUp(e,t){e.fromTo(t.children,{y:100,opacity:0},{y:0,opacity:1,duration:1,stagger:.05,ease:"power1.out",clearProps:"transform, opacity"})},imageScale(e,t){let r=Array.from(t.children).filter(e=>{let t=window.getComputedStyle(e);return"none"!==t.display}),i=r.flatMap(e=>null===e.querySelector("img")?[]:"none"!==window.getComputedStyle(e.querySelector("img")).display?e.querySelector("img"):e.querySelector("video"));0!==i.length&&e.fromTo(i,{scale:1.3,opacity:0},{scale:1,opacity:1,duration:1,stagger:.1,ease:"power2.out",clearProps:"all"})},fadeListing(e,t){e.fromTo(t.querySelectorAll(".detail-main-listing-item"),{y:100,opacity:0},{y:0,opacity:1,duration:1,stagger:.1,ease:"power1.out",clearProps:"transform, opacity"})}};e.querySelectorAll(".page-slot-wrap > div").forEach(e=>{let r=gsap.timeline({scrollTrigger:{trigger:e,start:"top top+=75%"}});e.classList.contains("detail-main-img-wrap")||e.classList.contains("detail-main-img")?t.imageScale(r,e):e.classList.contains("detail-main-listing")?t.fadeListing(r,e):t.fadeUp(r,e),e.classList.contains("detail-main-listing")&&($(e).find('[data-accordion="true"] .accor-content').hide(),$(e).find('[data-accordion="true"] .accor-title').on("click",function(e){$(this).toggleClass("active"),$(this).closest('[data-accordion="true"]').find(".accor-content").slideToggle("slow")}))})}copyTextToClipboard(e){e.preventDefault();let t=e.target.closest(".detail-main-prompt").querySelector(".code").innerText,r=document.createElement("textarea");r.style.display="none",r.value=t,document.body.appendChild(r),r.select(),navigator.clipboard.writeText(t).then(()=>{console.log("Text copied to clipboard")}).catch(e=>{console.error("Failed to copy text to clipboard:",e)}),document.body.removeChild(r),e.target.querySelector(".txt").innerText="Copied",e.target.classList.add("copied"),setTimeout(()=>{e.target.querySelector(".txt").innerText="Copy",e.target.classList.remove("copied")},1e3)}destroy(){this.tlTocProg&&this.tlTocProg.kill(),this.tlTrigger&&this.tlTrigger.kill()}},Next:class{constructor(){this.el=null,this.tlTrigger=null}setTrigger(e){this.el=e.next.container.querySelector(".detail-next"),this.tlTrigger=gsap.timeline({scrollTrigger:{trigger:this.el,start:"top bottom+=50%",end:"bottom top",once:!0,onEnter:()=>this.setup(e)}})}setup(e){let t=new SplitType(this.el.querySelector(".detail-next-label"),{types:"lines, words",lineClass:"lines",wordClass:"bp-word"}),r=new SplitType(this.el.querySelector(".detail-next-title"),{types:"lines, words, chars",lineClass:"lines",wordClass:"bp-word"});gsap.timeline({scrollTrigger:{trigger:this.el,start:"top top+=75%"},onComplete(){t.revert(),r.revert()}}).fromTo(this.el.querySelector(".detail-next-bg"),{scale:1.5},{scale:1,duration:1.2,ease:"power1.out",clearProps:"all"}).fromTo(t.words,{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:.6,stagger:.02},"<=0").fromTo(r.chars,{yPercent:60,opacity:0},{yPercent:0,opacity:1,duration:.6,stagger:.02},"<=.3")}destroy(){this.tlTrigger&&this.tlTrigger.kill()}}};class O{constructor(){this.background=new z.Background,this.hero=new z.Hero,this.brand=new z.Brand,this.voice=new z.Voice,this.logo=new z.Logo,this.typo=new z.Typo,this.photo=new z.Photo,this.color=new z.Color,this.transColor=new z.TransColor,this.scrollBar=new z.ScrollBar,this.boundSetupHandler=this.setupHandler.bind(this),this.boundOncePlayHandler=this.oncePlayHandler.bind(this),this.boundEnterPlayHandler=this.enterPlayHandler.bind(this)}init(e){let t=e.next.container;t.addEventListener("onceSetup",this.boundSetupHandler),t.addEventListener("oncePlay",this.boundOncePlayHandler),t.addEventListener("enterSetup",this.boundSetupHandler),t.addEventListener("enterPlay",this.boundEnterPlayHandler)}oncePlayHandler(e){this.hero.playOnce(e.detail)}enterPlayHandler(e){this.hero.playEnter(e.detail),this.brand.playEnter(e.detail)}destroy(e){let t=e.next.container;t.removeEventListener("onceSetup",this.boundSetupHandler),t.removeEventListener("oncePlay",this.boundOncePlayHandler),t.removeEventListener("enterSetup",this.boundSetupHandler),t.removeEventListener("enterPlay",this.boundEnterPlayHandler),this.destroyHandler(e)}setupHandler(e){let t=e.detail;this.background.setup(t),this.hero.setup(t),this.brand.setup(t),this.voice.setTrigger(t),this.logo.setTrigger(t),this.typo.setTrigger(t),this.photo.setTrigger(t),this.color.setTrigger(t),this.transColor.setup(t),this.scrollBar.setup(t)}destroyHandler(e){[this.hero,this.brand,this.voice,this.logo,this.typo,this.photo,this.color,this.background,this.transColor,this.scrollBar].forEach(e=>e.destroy())}}class M{constructor(){this.hero=new k.Hero,this.toc=new k.TOC,this.main=new k.Main,this.next=new k.Next,this.boundSetupHandler=this.setupHandler.bind(this),this.boundOncePlayHandler=this.oncePlayHandler.bind(this),this.boundEnterPlayHandler=this.enterPlayHandler.bind(this)}init(e){let t=e.next.container;t.addEventListener("onceSetup",this.boundSetupHandler),t.addEventListener("oncePlay",this.boundOncePlayHandler),t.addEventListener("enterSetup",this.boundSetupHandler),t.addEventListener("enterPlay",this.boundEnterPlayHandler)}oncePlayHandler(e){this.hero.play(e.detail)}enterPlayHandler(e){this.hero.play(e.detail)}destroy(e){let t=e.next.container;t.removeEventListener("onceSetup",this.boundSetupHandler),t.removeEventListener("oncePlay",this.boundOncePlayHandler),t.removeEventListener("enterSetup",this.boundSetupHandler),t.removeEventListener("enterPlay",this.boundEnterPlayHandler),this.destroyHandler(e)}setupHandler(e){let t=e.detail;this.hero.setup(t),this.toc.setup(t),this.main.setTrigger(t),this.next.setTrigger(t)}destroyHandler(e){[this.hero,this.toc,this.main,this.next].forEach(e=>e.destroy())}}let B=new O,I=new M,W={home:{namespace:"home",afterEnter(e){B.init(e)},beforeLeave(e){B.destroy(e)}},detail:{namespace:"detail",afterEnter(e){I.init(e)},beforeLeave(e){I.destroy(e)}}},D=Object.values(W);barba.init({preventRunning:!0,timeout:5e3,debug:!0,transitions:[{name:"default-transition",sync:!0,beforeOnce(e){p.init(e),n("init",e),C.init(e)},once(e){w.init(e),w.play(e)},async leave(e){await L.play(e)}}],views:D})};export default mainScript;